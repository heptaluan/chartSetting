!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e=function(Ae,Ee){var Be={beforeShow:e,move:e,change:e,show:e,hide:e,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},Te=[],De=!!/msie/i.exec(window.navigator.userAgent),He=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),_e=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Oe=function(){var e="";if(De)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<span>主题配色</span>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<span class='color-diy'>自定义</span>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function ze(e,t,o,n){for(var i=[],a=0;a<e.length;a++){var l=e[a];if(l){var r=tinycolor(l),s=r.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";s+=tinycolor.equals(t,l)?" sp-thumb-active":"";var c=r.toString(n.preferredFormat||"rgb"),d=He?"background-color:"+r.toRgbString():"filter:"+r.toFilter();i.push('<span title="'+c+'" data-color="'+r.toRgbString()+'" class="'+s+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{i.push(Ae("<div />").append(Ae('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",n.noColorSelectedText)).html())}}return"<div class='sp-cf "+o+"'>"+i.join("")+"</div>"}function t(e,t){var c=function(e,t){var o=Ae.extend({},Be,e);return o.callbacks={move:Ne(o.move,t),change:Ne(o.change,t),show:Ne(o.show,t),hide:Ne(o.hide,t),beforeShow:Ne(o.beforeShow,t)},o}(t,e),n=c.flat,o=c.showSelectionPalette,i=c.localStorageKey,a=c.theme,l=c.callbacks,r=function(o,n,i){var a;return function(){var e=this,t=arguments;i&&clearTimeout(a),!i&&a||(a=setTimeout(function(){a=null,o.apply(e,t)},n))}}(Le,10),s=!1,d=!1,p=0,u=0,h=0,f=0,b=0,m=0,g=0,v=0,y=0,k=0,x=1,w=[],C=[],S={},F=c.selectionPalette.slice(0),L=c.maxSelectionSize,P="sp-dragging",I=null,A=e.ownerDocument,E=(A.body,Ae(e)),B=!1,T=Ae(Oe,A).addClass(a),D=T.find(".sp-picker-container"),H=T.find(".sp-color"),_=T.find(".sp-dragger"),O=T.find(".sp-hue"),z=T.find(".sp-slider"),R=T.find(".sp-alpha-inner"),N=T.find(".sp-alpha"),M=T.find(".sp-alpha-handle"),j=T.find(".sp-input"),$=T.find(".sp-palette"),q=T.find(".sp-initial"),V=T.find(".sp-cancel"),J=T.find(".sp-clear"),U=T.find(".sp-choose"),G=T.find(".sp-palette-toggle"),X=E.is("input"),W=X&&"color"===E.attr("type")&&je(),K=X&&!n,Y=K?Ae(_e).addClass(a).addClass(c.className).addClass(c.replacerClassName):Ae([]),Q=K?Y:E,Z=Y.find(".sp-preview-inner"),ee=c.color||X&&E.val(),te=!1,oe=c.preferredFormat,ne=!c.showButtons||c.clickoutFiresChange,ie=!ee,ae=c.allowEmpty&&!W;function le(){if(c.showPaletteOnly&&(c.showPalette=!0),G.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),c.palette){w=c.palette.slice(0),C=Ae.isArray(w[0])?w:[w],S={};for(var e=0;e<C.length;e++)for(var t=0;t<C[e].length;t++){var o=tinycolor(C[e][t]).toRgbString();S[o]=!0}}T.toggleClass("sp-flat",n),T.toggleClass("sp-input-disabled",!c.showInput),T.toggleClass("sp-alpha-enabled",c.showAlpha),T.toggleClass("sp-clear-enabled",ae),T.toggleClass("sp-buttons-disabled",!c.showButtons),T.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly),T.toggleClass("sp-palette-disabled",!c.showPalette),T.toggleClass("sp-palette-only",c.showPaletteOnly),T.toggleClass("sp-initial-disabled",!c.showInitial),T.addClass(c.className).addClass(c.containerClassName),Le()}function re(){if(i&&window.localStorage){try{var e=window.localStorage[i].split(",#");1<e.length&&(delete window.localStorage[i],Ae.each(e,function(e,t){se(t)}))}catch(e){}try{F=window.localStorage[i].split(";")}catch(e){}}}function se(e){if(o){var t=tinycolor(e).toRgbString();if(!S[t]&&-1===Ae.inArray(t,F))for(F.push(t);F.length>L;)F.shift();if(i&&window.localStorage)try{window.localStorage[i]=F.join(";")}catch(e){}}}function ce(){var o=xe(),e=Ae.map(C,function(e,t){return ze(e,o,"sp-palette-row sp-palette-row-"+t,c)});re(),F&&e.push(ze(function(){var e=[];if(c.showPalette)for(var t=0;t<F.length;t++){var o=tinycolor(F[t]).toRgbString();S[o]||e.push(F[t])}return e.reverse().slice(0,c.maxSelectionSize)}(),o,"sp-palette-row sp-palette-row-selection",c)),$.html(e.join(""))}function de(){if(c.showInitial){var e=te,t=xe();q.html(ze([e,t],t,"sp-palette-row-initial",c))}}function pe(){(u<=0||p<=0||f<=0)&&Le(),d=!0,T.addClass(P),I=null,E.trigger("dragstart.spectrum",[xe()])}function ue(){d=!1,T.removeClass(P),E.trigger("dragstop.spectrum",[xe()])}function he(){var e=j.val();if(null!==e&&""!==e||!ae){var t=tinycolor(e);t.isValid()?(ke(t),we(),Fe()):j.addClass("sp-validation-error")}else ke(null),we(),Fe()}function fe(){s?ve():be()}function be(){var e=Ae.Event("beforeShow.spectrum");s?Le():(E.trigger(e,[xe()]),!1===l.beforeShow(xe())||e.isDefaultPrevented()||(function(){for(var e=0;e<Te.length;e++)Te[e]&&Te[e].hide()}(),s=!0,Ae(A).on("keydown.spectrum",me),Ae(A).on("click.spectrum",ge),Ae(window).on("resize.spectrum",r),Y.addClass("sp-active"),T.removeClass("sp-hidden"),Le(),Ce(),te=xe(),de(),l.show(te),E.trigger("show.spectrum",[te])))}function me(e){27===e.keyCode&&ve()}function ge(e){2!=e.button&&(d||(ne?Fe(!0):ye(),ve()))}function ve(){s&&!n&&(s=!1,Ae(A).off("keydown.spectrum",me),Ae(A).off("click.spectrum",ge),Ae(window).off("resize.spectrum",r),Y.removeClass("sp-active"),T.addClass("sp-hidden"),l.hide(xe()),E.trigger("hide.spectrum",[xe()]))}function ye(){ke(te,!0),Fe(!0)}function ke(e,t){var o,n;tinycolor.equals(e,xe())?Ce():(!e&&ae?ie=!0:(ie=!1,n=(o=tinycolor(e)).toHsv(),v=n.h%360/360,y=n.s,k=n.v,x=n.a),Ce(),o&&o.isValid()&&!t&&(oe=c.preferredFormat||o.getFormat()))}function xe(e){return e=e||{},ae&&ie?null:tinycolor.fromRatio({h:v,s:y,v:k,a:Math.round(1e3*x)/1e3},{format:e.format||oe})}function we(){Ce(),l.move(xe()),E.trigger("move.spectrum",[xe()])}function Ce(){j.removeClass("sp-validation-error"),Se();var e=tinycolor.fromRatio({h:v,s:1,v:1});H.css("background-color",e.toHexString());var t=oe;x<1&&(0!==x||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var o=xe({format:t}),n="";if(Z.removeClass("sp-clear-display"),Z.css("background-color","transparent"),!o&&ae)Z.addClass("sp-clear-display");else{var i=o.toHexString(),a=o.toRgbString();if(He||1===o.alpha?Z.css("background-color",a):(Z.css("background-color","transparent"),Z.css("filter",o.toFilter())),c.showAlpha){var l=o.toRgb();l.a=0;var r=tinycolor(l).toRgbString(),s="linear-gradient(left, "+r+", "+i+")";De?R.css("filter",tinycolor(r).toFilter({gradientType:1},i)):(R.css("background","-webkit-"+s),R.css("background","-moz-"+s),R.css("background","-ms-"+s),R.css("background","linear-gradient(to right, "+r+", "+i+")"))}n=o.toString(t)}c.showInput&&j.val(n),c.showPalette&&ce(),de()}function Se(){var e=y,t=k;if(ae&&ie)M.hide(),z.hide(),_.hide();else{M.show(),z.show(),_.show();var o=e*p,n=u-t*u;o=Math.max(-h,Math.min(p-h,o-h)),n=Math.max(-h,Math.min(u-h,n-h)),_.css({top:n+"px",left:o+"px"});var i=x*b;M.css({left:i-m/2+"px"});var a=v*f;z.css({top:a-g+"px"})}}function Fe(e){var t=xe(),o="",n=!tinycolor.equals(t,te);t&&(o=t.toString(oe),se(t)),X&&E.val(o),e&&n&&(l.change(t),E.trigger("change",[t]))}function Le(){s&&(p=H.width(),u=H.height(),h=_.height(),O.width(),f=O.height(),g=z.height(),b=N.width(),m=M.width(),n||(T.css("position","absolute"),c.offset?T.offset(c.offset):T.offset(function(e,t){e.outerWidth(),e.outerHeight();var o=t.outerHeight(),n=e[0].ownerDocument,i=n.documentElement,a=(i.clientWidth,Ae(n).scrollLeft(),i.clientHeight,Ae(n).scrollTop(),t.offset()),l=a.left,r=a.top;r+=o,155<t[0].getBoundingClientRect().top&&(r=185);return{top:r-30,bottom:a.bottom,left:l-190,right:a.right,width:a.width,height:a.height}}(T,Q))),Se(),c.showPalette&&ce(),E.trigger("reflow.spectrum"))}function Pe(){ve(),B=!0,E.attr("disabled",!0),Q.addClass("sp-disabled")}!function(){if(De&&T.find("*:not(input)").attr("unselectable","on"),le(),K&&E.after(Y).hide(),ae||J.hide(),n)E.after(T).hide();else{var e="parent"===c.appendTo?E.parent():Ae(c.appendTo);1!==e.length&&(e=Ae("body")),e.append(T)}function t(e){return e.data&&e.data.ignore?(ke(Ae(e.target).closest(".sp-thumb-el").data("color")),we()):(ke(Ae(e.target).closest(".sp-thumb-el").data("color")),we(),c.hideAfterPaletteSelect?(Fe(!0),ve()):Fe()),!1}re(),Q.on("click.spectrum touchstart.spectrum",function(e){B||fe(),e.stopPropagation(),Ae(e.target).is("input")||e.preventDefault()}),(E.is(":disabled")||!0===c.disabled)&&Pe(),T.click(Re),j.change(he),j.on("paste",function(){setTimeout(he,1)}),j.keydown(function(e){13==e.keyCode&&he()}),V.text(c.cancelText),V.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),ye(),ve()}),J.attr("title",c.clearText),J.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),ie=!0,we(),n&&Fe(!0)}),U.text(c.chooseText),U.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),De&&j.is(":focus")&&j.trigger("change"),j.hasClass("sp-validation-error")||(Fe(!0),ve())}),G.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText),G.on("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),c.showPaletteOnly=!c.showPaletteOnly,c.showPaletteOnly||n||T.css("left","-="+(D.outerWidth(!0)+5)),le()}),Me(N,function(e,t,o){x=e/b,ie=!1,o.shiftKey&&(x=Math.round(10*x)/10),we()},pe,ue),Me(O,function(e,t){v=parseFloat(t/f),ie=!1,c.showAlpha||(x=1),we()},pe,ue),Me(H,function(e,t,o){if(o.shiftKey){if(!I){var n=y*p,i=u-k*u,a=Math.abs(e-n)>Math.abs(t-i);I=a?"x":"y"}}else I=null;var l=!I||"y"===I;(!I||"x"===I)&&(y=parseFloat(e/p)),l&&(k=parseFloat((u-t)/u)),ie=!1,c.showAlpha||(x=1),we()},pe,ue),ee?(ke(ee),Ce(),oe=c.preferredFormat||tinycolor(ee).format,se(ee)):Ce(),n&&be();var o=De?"mousedown.spectrum":"click.spectrum touchstart.spectrum";$.on(o,".sp-thumb-el",t),q.on(o,".sp-thumb-el:nth-child(1)",{ignore:!0},t)}();var Ie={show:be,hide:ve,toggle:fe,reflow:Le,option:function(e,t){return e===Ee?Ae.extend({},c):t===Ee?c[e]:(c[e]=t,"preferredFormat"===e&&(oe=c.preferredFormat),void le())},enable:function(){B=!1,E.attr("disabled",!1),Q.removeClass("sp-disabled")},disable:Pe,offset:function(e){c.offset=e,Le()},set:function(e){ke(e),Fe()},get:xe,destroy:function(){E.show(),Q.off("click.spectrum touchstart.spectrum"),T.remove(),Y.remove(),Te[Ie.id]=null},container:T};return Ie.id=Te.push(Ie)-1,Ie}function e(){}function Re(e){e.stopPropagation()}function Ne(e,t){var o=Array.prototype.slice,n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}}function Me(l,r,t,e){r=r||function(){},t=t||function(){},e=e||function(){};var s=document,c=!1,d={},p=0,u=0,h="ontouchstart"in window,o={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function n(e){if(c){if(De&&s.documentMode<9&&!e.button)return b();var t=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],o=t&&t.pageX||e.pageX,n=t&&t.pageY||e.pageY,i=Math.max(0,Math.min(o-d.left,u)),a=Math.max(0,Math.min(n-d.top,p));h&&f(e),r.apply(l,[i,a,e])}}function b(){c&&(Ae(s).off(o),Ae(s.body).removeClass("sp-dragging"),setTimeout(function(){e.apply(l,arguments)},0)),c=!1}o.selectstart=f,o.dragstart=f,o["touchmove mousemove"]=n,o["touchend mouseup"]=b,Ae(l).on("touchstart mousedown",function(e){(e.which?3==e.which:2==e.button)||c||!1!==t.apply(l,arguments)&&(c=!0,p=Ae(l).height(),u=Ae(l).width(),d=Ae(l).offset(),Ae(s).on(o),Ae(s.body).addClass("sp-dragging"),n(e),f(e))})}function je(){return Ae.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id";Ae.fn.spectrum=function(o,e){if("string"!=typeof o)return this.spectrum("destroy").each(function(){var e=t(this,Ae.extend({},Ae(this).data(),o));Ae(this).data(a,e.id)});var n=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=Te[Ae(this).data(a)];if(e){var t=e[o];if(!t)throw new Error("Spectrum: no such method: '"+o+"'");"get"==o?n=e.get():"container"==o?n=e.container:"option"==o?n=e.option.apply(e,i):"destroy"==o?(e.destroy(),Ae(this).removeData(a)):t.apply(e,i)}}),n},Ae.fn.spectrum.load=!0,Ae.fn.spectrum.loadOpts={},Ae.fn.spectrum.draggable=Me,Ae.fn.spectrum.defaults=Be,Ae.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var t=Ae("<input type='color'/>")[0];e._cachedResult="color"===t.type&&""!==t.value}return e._cachedResult},Ae.spectrum={},Ae.spectrum.localization={},Ae.spectrum.palettes={},Ae.fn.spectrum.processNativeColorInputs=function(){var e=Ae("input[type=color]");e.length&&!je()&&e.spectrum({preferredFormat:"hex6"})},function(){var a=/^[\s,#]+/,l=/\s+$/,i=0,c=Math,r=c.round,d=c.min,p=c.max,e=c.random,u=function e(t,o){if(o=o||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,o);var n=function(e){var t={r:0,g:0,b:0},o=1,n=!1,i=!1;"string"==typeof e&&(e=function(e){e=e.replace(a,"").replace(l,"").toLowerCase();var t,o=!1;if(L[e])e=L[e],o=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=z.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=z.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=z.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=z.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=z.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=z.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=z.hex8.exec(e))return{a:function(e){return B(e)/255}(t[1]),r:B(t[2]),g:B(t[3]),b:B(t[4]),format:o?"name":"hex8"};if(t=z.hex6.exec(e))return{r:B(t[1]),g:B(t[2]),b:B(t[3]),format:o?"name":"hex"};if(t=z.hex3.exec(e))return{r:B(t[1]+""+t[1]),g:B(t[2]+""+t[2]),b:B(t[3]+""+t[3]),format:o?"name":"hex"};return!1}(e));"object"==(void 0===e?"undefined":R(e))&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=function(e,t,o){return{r:255*A(e,255),g:255*A(t,255),b:255*A(o,255)}}(e.r,e.g,e.b),n=!0,i="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=D(e.s),e.v=D(e.v),t=function(e,t,o){e=6*A(e,360),t=A(t,100),o=A(o,100);var n=c.floor(e),i=e-n,a=o*(1-t),l=o*(1-i*t),r=o*(1-(1-i)*t),s=n%6;return{r:255*[o,l,a,a,r,o][s],g:255*[r,o,o,l,a,a][s],b:255*[a,a,r,o,o,l][s]}}(e.h,e.s,e.v),n=!0,i="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=D(e.s),e.l=D(e.l),t=function(e,t,o){var n,i,a;function l(e,t,o){return o<0&&(o+=1),1<o&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}if(e=A(e,360),t=A(t,100),o=A(o,100),0===t)n=i=a=o;else{var r=o<.5?o*(1+t):o+t-o*t,s=2*o-r;n=l(s,r,e+1/3),i=l(s,r,e),a=l(s,r,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(e.h,e.s,e.l),n=!0,i="hsl"),e.hasOwnProperty("a")&&(o=e.a));return o=I(o),{ok:n,format:e.format||i,r:d(255,p(t.r,0)),g:d(255,p(t.g,0)),b:d(255,p(t.b,0)),a:o}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=r(1e3*this._a)/1e3,this._format=o.format||n.format,this._gradientType=o.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=n.ok,this._tc_id=i++};function s(e,t,o){e=A(e,255),t=A(t,255),o=A(o,255);var n,i,a=p(e,t,o),l=d(e,t,o),r=(a+l)/2;if(a==l)n=i=0;else{var s=a-l;switch(i=.5<r?s/(2-a-l):s/(a+l),a){case e:n=(t-o)/s+(t<o?6:0);break;case t:n=(o-e)/s+2;break;case o:n=(e-t)/s+4}n/=6}return{h:n,s:i,l:r}}function h(e,t,o){e=A(e,255),t=A(t,255),o=A(o,255);var n,i,a=p(e,t,o),l=d(e,t,o),r=a,s=a-l;if(i=0===a?0:s/a,a==l)n=0;else{switch(a){case e:n=(t-o)/s+(t<o?6:0);break;case t:n=(o-e)/s+2;break;case o:n=(e-t)/s+4}n/=6}return{h:n,s:i,v:r}}function t(e,t,o,n){var i=[T(r(e).toString(16)),T(r(t).toString(16)),T(r(o).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(e,t,o,n){return[T(function(e){return Math.round(255*parseFloat(e)).toString(16)}(n)),T(r(e).toString(16)),T(r(t).toString(16)),T(r(o).toString(16))].join("")}function o(e,t){t=0===t?0:t||10;var o=u(e).toHsl();return o.s-=t/100,o.s=E(o.s),u(o)}function n(e,t){t=0===t?0:t||10;var o=u(e).toHsl();return o.s+=t/100,o.s=E(o.s),u(o)}function b(e){return u(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var o=u(e).toHsl();return o.l+=t/100,o.l=E(o.l),u(o)}function g(e,t){t=0===t?0:t||10;var o=u(e).toRgb();return o.r=p(0,d(255,o.r-r(-t/100*255))),o.g=p(0,d(255,o.g-r(-t/100*255))),o.b=p(0,d(255,o.b-r(-t/100*255))),u(o)}function v(e,t){t=0===t?0:t||10;var o=u(e).toHsl();return o.l-=t/100,o.l=E(o.l),u(o)}function y(e,t){var o=u(e).toHsl(),n=(r(o.h)+t)%360;return o.h=n<0?360+n:n,u(o)}function k(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function x(e){var t=u(e).toHsl(),o=t.h;return[u(e),u({h:(o+120)%360,s:t.s,l:t.l}),u({h:(o+240)%360,s:t.s,l:t.l})]}function w(e){var t=u(e).toHsl(),o=t.h;return[u(e),u({h:(o+90)%360,s:t.s,l:t.l}),u({h:(o+180)%360,s:t.s,l:t.l}),u({h:(o+270)%360,s:t.s,l:t.l})]}function C(e){var t=u(e).toHsl(),o=t.h;return[u(e),u({h:(o+72)%360,s:t.s,l:t.l}),u({h:(o+216)%360,s:t.s,l:t.l})]}function S(e,t,o){t=t||6,o=o||30;var n=u(e).toHsl(),i=360/o,a=[u(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(u(n));return a}function F(e,t){t=t||6;for(var o=u(e).toHsv(),n=o.h,i=o.s,a=o.v,l=[],r=1/t;t--;)l.push(u({h:n,s:i,v:a})),a=(a+r)%1;return l}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=I(e),this._roundA=r(1e3*this._a)/1e3,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=r(360*e.h),o=r(100*e.s),n=r(100*e.v);return 1==this._a?"hsv("+t+", "+o+"%, "+n+"%)":"hsva("+t+", "+o+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=r(360*e.h),o=r(100*e.s),n=r(100*e.l);return 1==this._a?"hsl("+t+", "+o+"%, "+n+"%)":"hsla("+t+", "+o+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*A(this._r,255))+"%",g:r(100*A(this._g,255))+"%",b:r(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*A(this._r,255))+"%, "+r(100*A(this._g,255))+"%, "+r(100*A(this._b,255))+"%)":"rgba("+r(100*A(this._r,255))+"%, "+r(100*A(this._g,255))+"%, "+r(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[t(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),o=t,n=this._gradientType?"GradientType = 1, ":"";e&&(o=u(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+o+")"},toString:function(e){var t=!!e;e=e||this._format;var o=!1,n=this._a<1&&0<=this._a;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(o=this.toRgbString()),"prgb"===e&&(o=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(o=this.toHexString()),"hex3"===e&&(o=this.toHexString(!0)),"hex8"===e&&(o=this.toHex8String()),"name"===e&&(o=this.toName()),"hsl"===e&&(o=this.toHslString()),"hsv"===e&&(o=this.toHsvString()),o||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var o=e.apply(null,[this].concat([].slice.call(t)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(o,arguments)},saturate:function(){return this._applyModification(n,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(F,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},u.fromRatio=function(e,t){if("object"==(void 0===e?"undefined":R(e))){var o={};for(var n in e)e.hasOwnProperty(n)&&(o[n]="a"===n?e[n]:D(e[n]));e=o}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:e(),g:e(),b:e()})},u.mix=function(e,t,o){o=0===o?0:o||50;var n,i=u(e).toRgb(),a=u(t).toRgb(),l=o/100,r=2*l-1,s=a.a-i.a,c=1-(n=((n=r*s==-1?r:(r+s)/(1+r*s))+1)/2),d={r:a.r*n+i.r*c,g:a.g*n+i.g*c,b:a.b*n+i.b*c,a:a.a*l+i.a*(1-l)};return u(d)},u.readability=function(e,t){var o=u(e),n=u(t),i=o.toRgb(),a=n.toRgb(),l=o.getBrightness(),r=n.getBrightness(),s=Math.max(i.r,a.r)-Math.min(i.r,a.r)+Math.max(i.g,a.g)-Math.min(i.g,a.g)+Math.max(i.b,a.b)-Math.min(i.b,a.b);return{brightness:Math.abs(l-r),color:s}},u.isReadable=function(e,t){var o=u.readability(e,t);return 125<o.brightness&&500<o.color},u.mostReadable=function(e,t){for(var o=null,n=0,i=!1,a=0;a<t.length;a++){var l=u.readability(e,t[a]),r=125<l.brightness&&500<l.color,s=l.brightness/125*3+l.color/500;(r&&!i||r&&i&&n<s||!r&&!i&&n<s)&&(i=r,n=s,o=u(t[a]))}return o};var L=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=u.hexNames=function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}(L);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function A(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var o=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=d(t,p(0,parseFloat(e))),o&&(e=parseInt(e*t,10)/100),c.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return d(1,p(0,e))}function B(e){return parseInt(e,16)}function T(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}var H,_,O,z=(_="[\\s|\\(]+("+(H="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",O="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",{rgb:new RegExp("rgb"+_),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+_),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+_),hsva:new RegExp("hsva"+O),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=u}(),Ae(function(){Ae.fn.spectrum.load&&Ae.fn.spectrum.processNativeColorInputs()})},"function"==typeof define&&define.amd?define(["jquery"],e):"object"==("undefined"==typeof exports?"undefined":R(exports))&&"object"==("undefined"==typeof module?"undefined":R(module))?module.exports=e(require("jquery")):e(jQuery),function(){var s=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:o,mimeType:function(e){var t=o(e).toLowerCase();return function(){var e="application/font-woff",t="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:t,jpeg:t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[t]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):function(a){return new Promise(function(e){for(var t=window.atob(a.toDataURL().split(",")[1]),o=t.length,n=new Uint8Array(o),i=0;i<o;i++)n[i]=t.charCodeAt(i);e(new Blob([n],{type:"image/png"}))})}(t)},resolveUrl:function(e,t){var o=document.implementation.createHTMLDocument(),n=o.createElement("base");o.head.appendChild(n);var i=o.createElement("a");return o.body.appendChild(i),n.href=t,i.href=e,i.href},getAndEncode:function(a){l.impl.options.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());return new Promise(function(o){var e,n=new XMLHttpRequest;if(n.onreadystatechange=function(){if(4!==n.readyState)return;if(200!==n.status)return void(e?o(e):i("cannot fetch resource: "+a+", status: "+n.status));var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];o(e)},t.readAsDataURL(n.response)},n.ontimeout=function(){e?o(e):i("timeout of 30000ms occured while fetching resource: "+a)},n.responseType="blob",n.timeout=3e4,n.open("GET",a,!0),n.send(),l.impl.options.imagePlaceholder){var t=l.impl.options.imagePlaceholder.split(/,/);t&&t[1]&&(e=t[1])}function i(e){console.error(e),o("")}})},uid:function(){var e=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}}(),delay:function(o){return function(t){return new Promise(function(e){setTimeout(function(){e(t)},o)})}},asArray:function(e){for(var t=[],o=e.length,n=0;n<o;n++)t.push(e[n]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(n){return new Promise(function(e,t){var o=new Image;o.onload=function(){e(o)},o.onerror=t,o.src=n})},width:function(e){var t=n(e,"border-left-width"),o=n(e,"border-right-width");return e.scrollWidth+t+o},height:function(e){var t=n(e,"border-top-width"),o=n(e,"border-bottom-width");return e.scrollHeight+t+o}};function o(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var o=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(o.replace("px",""))}}(),i=function(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,n,i){return e(t)?Promise.resolve(t).then(o).then(function(e){var o=Promise.resolve(t);return e.forEach(function(t){o=o.then(function(e){return a(e,t,n,i)})}),o}):Promise.resolve(t)},shouldProcess:e,impl:{readUrls:o,inline:a}};function e(e){return-1!==e.search(n)}function o(e){for(var t,o=[];null!==(t=n.exec(e));)o.push(t[1]);return o.filter(function(e){return!s.isDataUrl(e)})}function a(t,o,n,e){return Promise.resolve(o).then(function(e){return n?s.resolveUrl(e,n):e}).then(e||s.getAndEncode).then(function(e){return s.dataAsUrl(e,s.mimeType(o))}).then(function(e){return t.replace(function(e){return new RegExp("(url\\(['\"]?)("+s.escape(e)+")(['\"]?\\))","g")}(o),"$1"+e+"$3")})}}(),e=function(){return{resolveAll:function(){return e(document).then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:e}};function e(){return Promise.resolve(s.asArray(document.styleSheets)).then(function(e){var t=[];return e.forEach(function(e){try{s.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(e){}}),t}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return i.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(e){if(!document.body.getAttribute("data-json"))return;var o=document.body.getAttribute("data-json").split(","),n=[];return e.forEach(function(t){o.forEach(function(e){t.style["font-family"]===String(e)&&n.push(t)})}),n}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return i.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),t=function(){return{inlineAll:function t(e){if(!(e instanceof Element))return Promise.resolve(e);return o(e).then(function(){return e instanceof HTMLImageElement?n(e).inline():Promise.all(s.asArray(e.childNodes).map(function(e){return t(e)}))});function o(t){var e=t.style.getPropertyValue("background");return e?i.inlineAll(e).then(function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))}).then(function(){return t}):Promise.resolve(t)}},impl:{newImage:n}};function n(n){return{inline:function(e){return s.isDataUrl(n.src)?Promise.resolve():Promise.resolve(n.src).then(e||s.getAndEncode).then(function(e){return s.dataAsUrl(e,s.mimeType(n.src))}).then(function(o){return new Promise(function(e,t){n.onload=e,n.onerror=t,n.src=o})})}}}}(),n={imagePlaceholder:void 0,cacheBust:!1},l={toSvg:a,toPng:function(e,t){return o(e,t||{}).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return o(e,t=t||{}).then(function(e){return e.toDataURL("image/jpeg",t.quality||1)})},toBlob:function(e,t){return o(e,t||{}).then(s.canvasToBlob)},toPixelData:function(t,e){return o(t,e||{}).then(function(e){return e.getContext("2d").getImageData(0,0,s.width(t),s.height(t)).data})},impl:{fontFaces:e,images:t,util:s,inliner:i,options:{}}};function a(t,o){return function(e){void 0===e.imagePlaceholder?l.impl.options.imagePlaceholder=n.imagePlaceholder:l.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?l.impl.options.cacheBust=n.cacheBust:l.impl.options.cacheBust=e.cacheBust}(o=o||{}),Promise.resolve(t).then(function(e){return function a(t,o,e){if(!e&&o&&!o(t))return Promise.resolve();return Promise.resolve(t).then(n).then(function(e){return i(t,e,o)}).then(function(e){return l(t,e)});function n(e){return e instanceof HTMLCanvasElement?s.makeImage(e.toDataURL()):e.cloneNode(!1)}function i(e,t,o){var n=e.childNodes;return 0===n.length?Promise.resolve(t):i(t,s.asArray(n),o).then(function(){return t});function i(t,e,o){var n=Promise.resolve();return e.forEach(function(e){n=n.then(function(){return a(e,o)}).then(function(e){e&&t.appendChild(e)})}),n}}function l(l,r){return r instanceof Element?Promise.resolve().then(e).then(t).then(o).then(n).then(function(){return r}):r;function e(){function e(e,t){var o,n;e.cssText?(t.cssText=e.cssText,t.font=e.font):(o=e,n=t,s.asArray(o).forEach(function(e){n.setProperty(e,o.getPropertyValue(e),o.getPropertyPriority(e))}))}e(window.getComputedStyle(l),r.style)}function t(){function t(e){var t=window.getComputedStyle(l,e),o=t.getPropertyValue("content");if(""!==o&&"none"!==o){var n=s.uid();r.className=r.className+" "+n;var i=document.createElement("style");i.appendChild(a(n,e,t)),r.appendChild(i)}function a(e,t,o){var n,i,a="."+e+":"+t,l=o.cssText?(i=(n=o).getPropertyValue("content"),n.cssText+" content: "+i+";"):r(o);return document.createTextNode(a+"{"+l+"}");function r(t){return s.asArray(t).map(e).join("; ")+";";function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}}[":before",":after"].forEach(function(e){t(e)})}function o(){l instanceof HTMLTextAreaElement&&(r.innerHTML=l.value),l instanceof HTMLInputElement&&r.setAttribute("value",l.value)}function n(){r instanceof SVGElement&&(r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r instanceof SVGRectElement&&["width","height"].forEach(function(e){var t=r.getAttribute(e);t&&r.style.setProperty(e,t)}))}}}(e,o.filter,!0)}).then(r).then(c).then(function(t){o.bgcolor&&(t.style.backgroundColor=o.bgcolor);o.width&&(t.style.width=o.width+"px");o.height&&(t.style.height=o.height+"px");o.style&&Object.keys(o.style).forEach(function(e){t.style[e]=o.style[e]});return t}).then(function(e){return function(e,t,o){return Promise.resolve(e).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(s.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+o+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})}(e,o.width||s.width(t),o.height||s.height(t))})}function o(o,n){return a(o,n).then(s.makeImage).then(s.delay(100)).then(function(e){var t=function(e){var t=document.createElement("canvas");if(t.width=n.width||s.width(e),t.height=n.height||s.height(e),n.bgcolor){var o=t.getContext("2d");o.fillStyle=n.bgcolor,o.fillRect(0,0,t.width,t.height)}return t}(o);return t.getContext("2d").drawImage(e,0,0),t})}function r(o){return e.resolveAll().then(function(e){var t=document.createElement("style");return o.appendChild(t),t.appendChild(document.createTextNode(e)),o})}function c(e){return t.inlineAll(e).then(function(){return e})}"undefined"!=typeof module?module.exports=l:window.domtoimage=l}(),$.fn.RangeSlider=function(e){this.sliderCfg={min:e&&!isNaN(parseFloat(e.min))?Number(e.min):null,max:e&&!isNaN(parseFloat(e.max))?Number(e.max):null,step:e&&Number(e.step)?e.step:1,callback:e&&e.callback?e.callback:null,setValue:e&&e.setValue?e.setValue:null};var t=$(this),o=$(this).parents(".input-container-box").find("input.input-text"),n=$(this).parents(".input-container-box").find(".add"),i=$(this).parents(".input-container-box").find(".desc"),a=this.sliderCfg.min,l=this.sliderCfg.max,r=this.sliderCfg.step,s=this.sliderCfg.callback,c=this.sliderCfg.setValue,d=function(e){t.val(e).css("background-size",e+"% 100%"),o.val(e),$.isFunction(s)&&s(this)};c&&(t.val(c).css("background-size",c+"% 100%"),o.val(c)),t.attr("min",a).attr("max",l).attr("step",r),t.bind("input",function(e){d(this.value)}),o.bind("input",function(e){var t=0;/^[1-9][0-9]*/.test(this.value)&&(t=this.value),100<this.value&&(t=100),this.value<0&&(t=0),d(t)}),n.bind("click",function(){var e=o.val();100<++e&&(e=100),d(e)}),i.bind("click",function(){var e=o.val();--e<0&&(e=0),d(e)})};var r=[{projectId:"444746070325460999",blockId:"155193846446699135",type:"chart",dataSrc:{srcType:"local",dataType:"obejct-table",data:[[["厂商品牌","覆盖率"],["苹果",27.7],["华为",19.61],["OPPO",15.06],["vivo",12.07],["小米",9.48]]],url:"",download:!($.fn.dropdown=function(e){this.options={list:e&&e.list?e.list:[],index:e&&e.index?e.index:0,callback:e&&e.callback?e.callback:null,updateIndex:!(!e||!e.updateIndex)&&e.updateIndex,bindClick:!!e.bindClick&&e.bindClick};var t=$(this),o=this.options.list,n=this.options.callback,i=this.options.index,a=this.options.updateIndex,l=this.options.bindClick;if(!a){t.append(function(e){for(var t='\n        <div class="drop-down-box">\n        <div class="dropdown-title">'+(i?e[i]:e[0])+'</div>\n        <ul class="dropdown-ul">\n      ',o=0;o<e.length;o++)t+='\n          <li class="dropdown-li">'+e[o]+"</li>\n        ";return t+="</ul></div>"}(o))}(i||a)&&t.find(".dropdown-title").html(o[i]),l&&t.bind("click",".dropdown-title",function(e){var t=e.target.classList.contains("dropdown-title")?e.target:e.target.parentNode;-1<t.className.split(" ").indexOf("open")?($(t).next(".dropdown-ul").hide(),$(t).removeClass("open")):($(t).next(".dropdown-ul").show(),$(t).addClass("open"))}),$(document).mouseup(function(e){-1===Array.from($(".dropdown-ul")).indexOf(e.target)&&-1===Array.from($(".dropdown-title")).indexOf(e.target)&&-1===Array.from($(".theme-color-zone")).indexOf(e.target)&&0<Array.from($(".dropdown-title.open")).length&&($(".dropdown-title.open").siblings(".dropdown-ul").hide(),$(".dropdown-title.open").removeClass("open"))}),t.find(".dropdown-li").click(function(e){e.stopPropagation(),$(this).parent().hide().siblings(".dropdown-title").html($(this).html()).removeClass("open"),$.isFunction(n)&&n($(this).index())})})},label:"<e-pierosetype-chart>",templateId:"444746070325460999",isFree:"0",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,label:{display:!1,positionOptions:["内部径向","内部水平","外部"],positionChoice:"内部径向",contentOption:["名称","百分比","数值"],contentChoice:["名称","百分比"],textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["占比类"],chart_type:"饼图",title:"变形饼图",thumb:"https://image.dydata.io/HscHuHwcLRLUuQDMh3ZsTS.jpg?imageView2/2/w/500/quality/90"},{projectId:"444746070325460997",blockId:"155193846456807908",type:"chart",dataSrc:{srcType:"local",dataType:"obejct-table",data:[[["受教育水平","占比（%）"],["大学本科",63],["大学专科",16.9],["硕士",12.8],["高中及以下",5.5],["博士及以上",1.8]]],url:"",download:!1},label:"<e-piebasic-chart>",templateId:"444746070325460997",isFree:"0",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:null,shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!1,positionOptions:["内部径向","内部水平","外部"],positionChoice:"内部水平",contentOption:["名称","百分比","数值"],contentChoice:["名称","百分比"],textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["占比类"],chart_type:"饼图",title:"基础饼图",thumb:"https://image.dydata.io/E8hjxBcbsDqAkMBMmTgoN2.jpg?imageView2/2/w/500/quality/90"},{projectId:"4544734748594536433",blockId:"155193846469289546",type:"chart",dataSrc:{srcType:"local",dataType:"cross-table",data:[[["年份","衣","食","住","行","娱"],[2006,1026.9,5249,1435.7,2332.8,2431.7],[2007,1330.1,5725.5,1212.1,3453.7,2253.7],[2008,1520.6,7108.6,1646.2,3373.2,2874.5],[2009,1593.1,7344.8,2213.2,3498.7,3139],[2010,1794.1,7277,2166.2,4076.5,3363.3],[2011,2053.8,8906,2425.7,3808.4,3746.4],[2012,2111.2,9655.6,1790.5,4563.8,3723.7]]],url:"",download:!1},label:"<e-linemultiple-chart>",templateId:"4544734748594536433",isFree:"0",templateSwitch:"cross",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"对象",index:0,allowType:["string"],isLegend:!1,function:"objCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"x",color:"#e9e9e9"},color:"#bfbfbf",x:{labelShow:!0,name:"",range:[]},y:{labelShow:!0,name:"人均支出（单位：元）",range:[]}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!1,positionOptions:["上面","下面"],positionChoice:"上面",textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"2006-2012年城市居民人均分项消费支出对比图",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!0}},function_type:["趋势类"],chart_type:"线形图",title:"多条折线图",thumb:"https://image.dydata.io/uXtwEwjXpvKhfKB7hy9nt.jpg?imageView2/2/w/500/quality/90"},{projectId:"4544734748594536434",blockId:"155193846451462384",type:"chart",dataSrc:{srcType:"local",dataType:"cross-table",data:[[["年份","特种片","纪录片","动画片","科教片","故事片"],["2010年",29,36,36,74,176],["2011年",25,46,44,96,208],["2012年",46,35,53,94,325],["2013年",38,38,49,141,288],["2014年",43,45,60,72,300],["2015年",37,58,71,116,336],["2016年",44,52,69,87,422]]],url:"",download:!1},label:"<e-lineareastack-chart>",templateId:"4544734748594536434",isFree:"1",templateSwitch:"cross",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"对象",index:0,allowType:["string"],isLegend:!1,function:"objCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"x",color:"#e9e9e9"},color:"#bfbfbf",x:{labelShow:!0,name:"",range:[]},y:{labelShow:!0,name:"",range:[]}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!1,positionOptions:["上面","下面"],positionChoice:"上面",textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["趋势类"],chart_type:"面积图",title:"堆叠面积图",thumb:"https://image.dydata.io/BCgbUyS9rP6XUD7WjLaZKU.jpg?imageView2/2/w/500/quality/90"},{projectId:"444734748594536323",blockId:"155193846443061602",type:"chart",dataSrc:{srcType:"local",dataType:"obejct-table",data:[[["地区","销量"],["华东",4668],["华北",3775],["西南",2912],["东北",2200],["华中",1259],["西北",700],["华南",403]]],url:"",download:!1},label:"<e-barbasic-chart>",templateId:"444734748594536323",isFree:"0",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"x",color:"#e9e9e9"},color:"#bfbfbf",x:{labelShow:!0,name:"",range:[]},y:{labelShow:!0,name:"",range:[]}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!1,positionOptions:["上面","内部居下"],positionChoice:"上面",textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"single",list:[0]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["比较类"],chart_type:"柱状图",title:"基础柱状图",thumb:"https://image.dydata.io/S9mQy7TtDPRefubPR9f5hY.jpg?imageView2/2/w/500/quality/90"},{projectId:"3612096174443311107",blockId:"155193846453436874",type:"chart",dataSrc:{srcType:"local",dataType:"cross-table",data:[[["年份","手机游戏","平板游戏","客户端游戏","家用游戏机","网页游戏"],[2009,7664,747,5334,2546,2648],[2012,10286,1195,4731,1909,2423],[2015,13094,2277,4572,2798,2182],[2018,14964,5943,5495,3378,1596],[2021,17968,11385,4116,3371,1356]]],url:"",download:!1},label:"<e-barstack-chart>",templateId:"3612096174443311107",isFree:"0",templateSwitch:"cross",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"X轴对象",index:0,allowType:["string"],isLegend:!1,function:"objCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"x",color:"#e9e9e9"},color:"#bfbfbf",x:{labelShow:!0,name:"",range:[]},y:{labelShow:!0,name:"",range:[]}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!1,positionOptions:["内部居中","内部居下"],positionChoice:"内部居中",textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["比较类"],chart_type:"柱状图",title:"堆叠柱状图",thumb:"https://image.dydata.io/XJcYbs1sgp8RoYQCFQ2YTh.jpg?imageView2/2/w/500/quality/90"},{projectId:"4612096174443311107",blockId:"155193846447746020",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["年份","国家","GDP","人均寿命","人口"],["1990","Australia","28604","77","17096869"],["1990","Canada","31163","77.4","27662440"],["1990","China","1516","68","1154605773"],["1990","Cuba","13670","74.7","10582082"],["1990","Finland","28599","75","4986705"],["1990","France","29476","77.1","56943299"],["1990","Germany","31476","75.4","78958237"],["1990","Iceland","28666","78.1","254830"],["1990","India","1777","57.7","870601776"],["1990","Japan","29550","79.1","122249285"],["1990","North Korea","2076","67.9","20194354"],["1990","South Korea","12087","72","42972254"],["1990","New Zealand","24021","75.4","3397534"],["1990","Norway","43296","76.8","4240375"],["1990","Poland","10088","70.8","38195258"],["1990","Russia","19349","69.6","147568552"],["1990","Turkey","10670","67.3","53994605"],["1990","United Kingdom","26424","75.7","57110117"],["1990","United States","37062","75.4","252847810"],["2015","Australia","44056","81.8","23968973"],["2015","Canada","43294","81.7","35939927"],["2015","China","13334","76.9","1376048943"],["2015","Cuba","21291","78.5","11389562"],["2015","Finland","38923","80.8","5503457"],["2015","France","37599","81.9","64395345"],["2015","Germany","44053","81.1","80688545"],["2015","Iceland","42182","82.8","329425"],["2015","India","5903","66.8","1311050527"],["2015","Japan","36162","83.5","126573481"],["2015","North Korea","1390","71.4","25155317"],["2015","South Korea","34644","80.7","50293439"],["2015","New Zealand","34186","80.6","4528526"],["2015","Norway","64304","81.6","5210967"],["2015","Poland","24787","77.3","38611794"],["2015","Russia","23038","73.13","143456918"],["2015","Turkey","19360","76.5","78665830"],["2015","United Kingdom","38225","81.4","64715810"],["2015","United States","53354","79.1","321773631"]]],url:"",download:!1},label:"<e-scatterbubblegradient-chart>",templateId:"4612096174443311107",isFree:"1",templateSwitch:"obj-n-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"X轴",index:2,allowType:["number"],isLegend:!1,function:"vCol",configurable:!0},{name:"Y轴",index:3,allowType:["number"],isLegend:!1,function:"vCol",configurable:!0},{name:"分类",index:0,allowType:["string"],isLegend:!0,function:"typeCol",configurable:!0},{name:"半径",index:4,allowType:["number"],isLegend:!1,function:"vCol",configurable:!0},{name:"对象",index:1,allowType:["string"],isLegend:!1,function:"objCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"x",color:"#ccc"},color:"#313131",x:{labelShow:!0,name:"",range:[]},y:{labelShow:!0,name:"",range:[]}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,1]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["趋势类","分布类"],chart_type:"散点图",title:"分组气泡图",thumb:"https://image.dydata.io/RmKzotzGHBXmbBkVBQwors.jpg?imageView2/2/w/500/quality/90"},{projectId:"5544734748594536491",blockId:"155193846462058495",type:"chart",dataSrc:{srcType:"local",dataType:"cross-table",data:[[["品牌","电池寿命","品牌价值","合约费用","设计与质量","网络","屏幕大小","价格","智能"],["iPhone",22,28,29,17,22,2,21,50],["Samsung",27,16,35,13,20,13,35,38],["Nokia",26,10,30,14,22,4,41,30]]],url:"",download:!1},label:"<d-filter-radar-chart>",templateId:"5544734748594536491",isFree:"0",templateSwitch:"cross",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"对象",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"x",color:"#ccc"},color:"#313131",x:null,y:null},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!1,textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"multiple",list:[0,1,2]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["比较类"],chart_type:"极坐标图",title:"多维雷达图",thumb:"https://image.dydata.io/5W4SYUS2miLxZEgWQkVWrH.jpg?imageView2/2/w/500/quality/90"},{projectId:"5544734748594536339",blockId:"155193846453925093",type:"chart",dataSrc:{srcType:"local",dataType:"obejct-table",data:[[["类型","值"],["浏览网站",100],["放入购物车",70],["生成订单",60],["支付订单",40],["完成交易",20]]],url:"",download:!1},label:"<e-funnelcustomize-chart>",templateId:"5544734748594536339",isFree:"1",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,font:{fontSize:"13",color:"#313131",fontFamily:"noto"},label:{display:!0,contentOption:["名称","百分比","数值"],contentChoice:["名称"],textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["流向类"],chart_type:"漏斗图",title:"漏斗图",thumb:"https://image.dydata.io/5R2vjRGb3R1wxoY1vAPJ8J.jpg?imageView2/2/w/500/quality/90"},{projectId:"154777820323716078",blockId:"156016368764276462",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["名称","进度"],["开发进度","0.70"]]],url:"",download:!1},label:"<d-half-progress-pie-chart>",templateId:"154777820323716078",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},display:{innerRadiusRatio:.7,cornerRadius:0,areaBorderWidth:11,areaBorderColor:"none"},label:{numberLabel:{show:!0,fontSize:35,color:0,fontFamily:"noto"},textLabel:{show:!0,fontSize:25,color:"#313131",fontFamily:"noto"}},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!0,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},font:{fontSize:"15",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,14]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["占比类"],chart_type:"仪表盘",title:"半圆环进度图",thumb:"https://image.dydata.io/progresshalfcircle.jpg?imageView2/2/w/500/quality/90",isFree:"0"},{projectId:"4447460703254610031",blockId:"155927511400955813",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["国家","比例"],["俄罗斯",85],["塞内加尔",74],["瑞典",62],["日本",57],["比利时",50],["巴西",43],["法国",37],["突尼斯",33],["乌拉圭",28],["巴拿马",19]]],url:"",download:!1},label:"<d-liquid-fill-gauge-chart>",templateId:"4447460703254610031",isFree:"0",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4,5,6,7,8,9,10]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},title:"水波图",thumb:"https://image.dydata.io/4MXZMLtWYpg2zEXEuepeT6.jpg?imageView2/2/w/500/quality/90",function_type:["比较类","占比类"],chart_type:"其他"},{projectId:"5945734748594536331",blockId:"156102120655979362",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["独角兽企业类型","比例（%）"],["电子商务",16.2],["网络金融",15.6],["文化娱乐",11.7],["汽车交通",10.4],["智能硬件",6.5],["在线医疗",3.9],["人工智能",3.4]]],url:"",download:!1},label:"<d-radialbar-chart>",templateId:"5945734748594536331",isFree:"0",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,label:{display:!0,positionOptions:["外部","内部居左","内部居右"],positionChoice:"内部居右",textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4,5,6]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["比较类"],chart_type:"极坐标图",title:"玉玦图",thumb:"https://image.dydata.io/8AWxS9FDGuLQToJPx7oMKe.jpg?imageView2/2/w/500/quality/90"},{projectId:"5944734748594536331",blockId:"156102110873014598",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["国家","花费"],["中国","96"],["德国","121"],["美国","100"],["日本","111"],["韩国","102"],["法国","124"],["意大利","123"],["荷兰","111"],["比利时","123"],["英国","109"],["加拿大","115"],["俄罗斯","99"],["墨西哥","91"],["印度","87"],["瑞士","125"],["澳大利亚","130"],["西班牙","109"],["巴西","123"]]],url:"",download:!1},label:"<d-Rose2-chart>",templateId:"5944734748594536331",isFree:"1",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!1,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!0,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:{grid:{show:"all",color:"#e9e9e9"},color:"#bfbfbf",x:null,y:null},label:{display:!0,textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,1]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["比较类"],chart_type:"极坐标图",title:"玫瑰图",thumb:"https://image.dydata.io/YVLmRojEG564VMaFTzMdky.jpg?imageView2/2/w/500/quality/90"},{projectId:"5543733748594536504",blockId:"155927511300587108",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["source","target","人数"],["男","华为",1100],["男","苹果",730],["男","小米",680],["男","OPPO",630],["男","vivo",530],["男","其他",1630],["女","华为",680],["女","苹果",1080],["女","小米",370],["女","OPPO",850],["女","vivo",630],["女","其他",1090],["华为","45岁以上",135],["华为","35-44岁",319],["华为","25-34岁",986],["华为","18-24岁",240],["华为","18岁以下",100],["苹果","45岁以上",80],["苹果","35-44岁",121],["苹果","25-34岁",659],["苹果","18-24岁",545],["苹果","18岁以下",405],["小米","45岁以上",55],["小米","35-44岁",117],["小米","25-34岁",655],["小米","18-24岁",138],["小米","18岁以下",85],["OPPO","45岁以上",67],["OPPO","35-44岁",148],["OPPO","25-34岁",598],["OPPO","18-24岁",466],["OPPO","18岁以下",201],["vivo","45岁以上",39],["vivo","35-44岁",85],["vivo","25-34岁",611],["vivo","18-24岁",290],["vivo","18岁以下",135],["其他","45岁以上",141],["其他","35-44岁",307],["其他","25-34岁",1336],["其他","18-24岁",594],["其他","18岁以下",342]]],url:"",download:!1},label:"<d-horizontal-sankey-chart>",templateId:"5543733748594536504",isFree:"1",templateSwitch:"sankey",theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"起始项",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"目标项",index:1,allowType:["string"],isLegend:!0,function:"targetCol",configurable:!1},{name:"数值",index:2,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4,5,6,6,7,8,9,10,11,12]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},title:"桑基图",thumb:"https://image.dydata.io/GAn9rzy6Hyg9PJTjc2RToc.jpg?imageView2/2/w/500/quality/90",function_type:["流向类"],chart_type:"桑基图"},{projectId:"5544734748594536503",blockId:"156102097535348607",type:"chart",dataSrc:{srcType:"local",dataType:"object-table",data:[[["旅行目的","占比（%）"],["放松心情",82],["品尝美食",42.89],["观赏风景",25.62],["圣地巡游",16],["观看赛事",8]]],url:"",download:!1},label:"<d-one-level-treemap-chart>",templateId:"5544734748594536503",isFree:"0",templateSwitch:"key-value",theme:{_id:17,themeId:"17",name:"默认主题",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"},props:{size:{height:"400",width:"500",ratio:null,rotate:0},map:[[{name:"名称",index:0,allowType:["string"],isLegend:!0,function:"objCol",configurable:!1},{name:"值",index:1,allowType:["number"],isLegend:!1,function:"vCol",configurable:!1}]],legend:{show:!0,xPosition:"center",yPosition:"bottom"},axis:null,label:{display:!0,positionOptions:["内部左上","内部居中"],positionChoice:"内部左上",contentOption:["名称","百分比","数值"],contentChoice:["名称","数值"],textLabel:{fontSize:12,color:"#313131",fontFamily:"noto"}},font:{fontSize:"13",color:"#313131",fontFamily:"noto"},tooltip:!0,colors:{type:"multiple",list:[0,1,2,3,4]},backgroundColor:"",titleDisplay:{text:"",xPosition:"center",yPosition:"top",fontSize:"16",color:"#000000",fontFamily:"Noto Sans",show:!1}},function_type:["占比类"],chart_type:"树图",title:"矩形树图（单层）",thumb:"https://image.dydata.io/SMjXZyGziv68hwoqWSV11t.jpg?imageView2/2/w/500/quality/90"}],s=[{id:"16",price:0,theme:{_id:17,themeId:"17",name:"默认主题",thumb:"https://ss1.dydata.io/v2/themes/17.png",colors:["#4150d8","#28bf7e","#ed7c2f","#f2a93b","#f9cf36","#4a5bdc","#4cd698","#f4914e","#fcb75b","#ffe180","#b6c2ff","#96edc1","#ffbe92","#ffd6ae","#ffecb6"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"}},{id:"0",price:0,theme:{_id:11,themeId:"0",name:"时尚蓝紫",thumb:"http://ss1.dydata.io/v2/themes/0.png",colors:["#00aeef","#c759a1","#5552a3","#00bef3","#d07cb3","#6a65ad","#6ecff6","#dda6cc","#908ac2","#afe2fa","#e7c4dd","#b5b1d8","#d2eefc","#f0ddec","#d5d2ea"],fonts:{fontSize:"13",color:"#313131",fontFamily:"noto"},grid:{color:"#ccc"},backgroundColor:"#FFFFFF",axis:{color:"#313131"},shapeColor:1,price:"0.0"}},{id:"1",price:0,theme:{_id:1,themeId:"1",name:"蓝绿之间",thumb:"http://ss1.dydata.io/v2/themes/1.png",colors:["#1F358B","#0064AA","#00A472","#A9C8E9","#D2EAE2","#B5BFD9","#543C96","#6F5BA5","#719F3B","#9D8FC3","#85C73D","#4A90E2","#6C95A9","#61799F","#05753F"],fonts:{fontSize:"13",color:"#221E1F",fontFamily:"noto"},grid:{color:"#D4CED7"},backgroundColor:"#FFFFFF",axis:{color:"#0C0057"},shapeColor:2,price:"0.0"}},{id:"2",price:0,theme:{_id:2,themeId:"2",name:"深绯格调",thumb:"http://ss1.dydata.io/v2/themes/2.png",colors:["#710C19","#B12E48","#ECBD2B","#CD5532","#B1D14A","#ECBBCB","#E47894","#EC8C72","#F0BE79","#D2E390","#F5B7C2","#F3AAB5","#FCEA8C","#65BE92","#8BCBA7"],fonts:{fontSize:"13",color:"#8C1024",fontFamily:"noto"},grid:{color:"#C5C4C1"},backgroundColor:"#F3F0EB",axis:{color:"#8D8B87"},shapeColor:2,price:"0.0"}},{id:"3",price:0,theme:{_id:3,themeId:"3",name:"低调炫黑",thumb:"http://ss1.dydata.io/v2/themes/3.png",colors:["#D75C29","#F3A502","#6AA006","#2A6DB9","#87409C","#DD4622","#D05881","#9B4172","#696969","#14539A","#DF2F2F","#BB8700","#7F3912","#4A90E2","#9B4172"],fonts:{fontSize:"13",color:"#FFFFFF",fontFamily:"noto"},grid:{color:"#52524C"},backgroundColor:"#262623",axis:{color:"#8B8B85"},shapeColor:1,price:"0.0"}},{id:"4",price:0,theme:{_id:4,themeId:"4",name:"清新商务",thumb:"http://ss1.dydata.io/v2/themes/4.png",colors:["#ED0F64","#F48897","#008ED2","#C3DCF2","#0064AA","#6E6CC4","#ACAAE3","#A865CF","#C398DD","#BD4B98","#DD6A29","#DFA676","#EEE124","#F9F39D","#89D924"],fonts:{fontSize:"13",color:"#221E1F",fontFamily:"noto"},grid:{color:"#D3D3D3"},backgroundColor:"#FFFFFF",axis:{color:"#231815"},shapeColor:3,price:"0.0"}},{id:"5",price:0,theme:{_id:5,themeId:"5",name:"商务极简",thumb:"http://ss1.dydata.io/v2/themes/5.png",colors:["#88071A","#1E6392","#003257","#4092C8","#B81F37","#74C9E2","#F7B952","#EC6200","#6A451D","#006C30","#A28F2B","#A34193","#7C48BC","#0E0575","#4461A2"],fonts:{fontSize:"13",color:"#003257",fontFamily:"noto"},grid:{color:"#D7D3CE"},backgroundColor:"#F4EDE1",axis:{color:"#003257"},shapeColor:2,price:"0.0"}},{id:"6",price:0,theme:{_id:6,themeId:"6",name:"深邃印象",thumb:"http://ss1.dydata.io/v2/themes/6.png",colors:["#2E3E96","#9A4B99","#2F3452","#75250D","#7C98AC","#B5BFD9","#077388","#5B8EA0","#88071A","#885907","#A6A167","#5D7249","#456890","#635E7D","#812267"],fonts:{fontSize:"13",color:"#221E1F",fontFamily:"noto"},grid:{color:"#D4CED7"},backgroundColor:"#FFFFFF",axis:{color:"#231815"},shapeColor:3,price:"0.0"}},{id:"7",price:0,theme:{_id:7,themeId:"7",name:"青春活力",thumb:"http://ss1.dydata.io/v2/themes/7.png",colors:["#6674C4","#FF95D2","#FACF5B","#3DC0E4","#4C6471","#1B95E6","#0DCB74","#E57B88","#F4B246","#A77C56","#AF65BE","#8368D9","#1C436F","#6BBEAC","#9DCA6C"],fonts:{fontSize:"13",color:"#43484A",fontFamily:"noto"},grid:{color:"#DCDFE0"},backgroundColor:"#FFFFFF",axis:{color:"#DCDFE0"},shapeColor:5,price:"0.0"}},{id:"8",price:0,theme:{_id:8,themeId:"8",name:"简约范儿",thumb:"http://ss1.dydata.io/v2/themes/8.png",colors:["#EE793D","#D66329","#C08D0B","#927E63","#765F3D","#504533","#231815","#844632","#A9441F","#E69732","#EECB49","#B6AA5C","#A9C441","#71AE5D","#3D9837"],fonts:{fontSize:"13",color:"#6A6969",fontFamily:"noto"},grid:{color:"#D7DBD7"},backgroundColor:"#F3F6F7",axis:{color:"#231815"},shapeColor:15,price:"0.0"}},{id:"9",price:0,theme:{_id:9,themeId:"9",name:"荷塘淡雅",thumb:"http://ss1.dydata.io/v2/themes/9.png",colors:["#B7DFCB","#5ABAD1","#3984B6","#264992","#161F63","#E0EFCF","#95D3D4","#469CC5","#3D81B7","#3369A8","#461364","#692293","#7F2CA0","#A13B9B","#C04B97"],fonts:{fontSize:"13",color:"#485465",fontFamily:"noto"},grid:{color:"#D9E8EA"},backgroundColor:"#F3F6F7",axis:{color:"#D8D8D8"},shapeColor:5,price:"0.0"}},{id:"10",price:0,theme:{_id:10,themeId:"10",name:"灵动色彩",thumb:"http://ss1.dydata.io/v2/themes/10.png",colors:["#056FFD","#C58DFF","#FF87AC","#FFE05D","#9EFCC8","#76ACFF","#C17BE5","#03E9FC","#FFA587","#F26D7D","#E57EF0","#868BE7","#6FD87F","#CEB64B","#F7A863"],fonts:{fontSize:"13",color:"#5C6066",fontFamily:"noto"},grid:{color:"#DCD5E0"},backgroundColor:"#F3F6F7",axis:{color:"#CCCCCC"},shapeColor:2,price:"0.0"}},{id:"11",price:0,theme:{_id:12,themeId:"12",name:"灿若星河",thumb:"https://ss1.dydata.io/v2/themes/11.png",colors:["#218CE3","#FEE63D","#FE4B3E","#6CCEFE","#0439FF","#87F5FB","#CEC3C1","#335C67","#FFF3B0","#DF9F3D","#9E2A2B","#883677","#CA62C3","#EE85B5","#FF958C"],fonts:{fontSize:"13",color:"#FFFFFF",fontFamily:"noto"},grid:{color:"#52524C"},backgroundColor:"#350120",axis:{color:"#8B8B85"},shapeColor:1,price:"0.0"}},{id:"12",price:0,theme:{_id:13,themeId:"13",name:"冬日暖阳",thumb:"https://ss1.dydata.io/v2/themes/12.png",colors:["#FBBA72","#CA5310","#BA4D02","#8F250C","#691D08","#2076AE","#58B8FF","#FBB13C","#FBB13C","#FE6847","#F3E309","#EDBA0B","#A31621","#BFDBF7","#083C5F"],fonts:{fontSize:"13",color:"#003257",fontFamily:"noto"},grid:{color:"#D7D3CE"},backgroundColor:"#F4EDE1",axis:{color:"#003257"},shapeColor:2,price:"0.0"}},{id:"13",price:0,theme:{_id:14,themeId:"14",name:"风轻云淡",thumb:"https://ss1.dydata.io/v2/themes/13.png",colors:["#7C8CDE","#C0E6DE","#D7E0E9","#B3C5D7","#C5D5EA","#272727","#D4AA7D","#EFD09E","#D2D8B3","#3F88C5","#1C3144","#CF0302","#FFBA09","#726953","#5B3001"],fonts:{fontSize:"13",color:"#43484A",fontFamily:"noto"},grid:{color:"#DCDFE0"},backgroundColor:"#FFFFFF",axis:{color:"#DCDFE0"},shapeColor:1,price:"0.0"}},{id:"14",price:0,theme:{_id:15,themeId:"15",name:"苍松翠柏",thumb:"https://ss1.dydata.io/v2/themes/14.png",colors:["#153243","#274B63","#9BC4BB","#537A5A","#66666E","#537A5A","#8DB580","#C2CFB2","#DDD0C6","#593D3B","#8A7968","#A18973","#C3A995","#9B1C1F","#C9CBA3"],fonts:{fontSize:"13",color:"#485465",fontFamily:"noto"},grid:{color:"#D9E8EA"},backgroundColor:"#F3F6F7",axis:{color:"#D8D8D8"},shapeColor:1,price:"0.0"}},{id:"15",price:0,theme:{_id:16,themeId:"16",name:"橙黄桔绿",thumb:"https://ss1.dydata.io/v2/themes/15.png",colors:["#191616","#E6AF2E","#3D348B","#BEB7A4","#5DD39E","#BCE784","#338AA7","#513B56","#577399","#BDD5EA","#FE5F55","#420139","#8F754F","#C5C5C5","#D8483F"],fonts:{fontSize:"13",color:"#485465",fontFamily:"noto"},grid:{color:"#D9E8EA"},backgroundColor:"#FFFFFF",axis:{color:"#D8D8D8"},shapeColor:1,price:"0.0"}}],n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function u(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var o=function(){function l(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var o=locked("U2FsdGVkX1/u6EfnJcBwjl1lkrkHd1SLbqY/JBKMPPGUREtzJjAbYQ==");if(e.clientId!==o)throw new Error("client id mismatch");window.d3Chart.setUserMd(e.clientId);var n={config:!0===e.showConfig,downloadImage:"",exportImage:e.exportImage,chartJSON:e.chartJSON?e.chartJSON:r[2],backgroundColor:e.backgroundColor?e.backgroundColor:"#fff",chartColorList:s[0].theme.colors};this.echartsWordCloudOptions={tooltip:{},series:[{type:"wordCloud",gridSize:2,sizeRange:[12,50],rotationRange:[-90,90],shape:"pentagon",width:600,height:400,drawOutOfBound:!0,textStyle:{normal:{color:function(){return"rgb("+[Math.round(160*Math.random()),Math.round(160*Math.random()),Math.round(160*Math.random())].join(",")+")"}},emphasis:{shadowBlur:10,shadowColor:"#333"}},data:[{name:"Sam S Club",value:1e4,textStyle:{normal:{color:"black"},emphasis:{color:"red"}}},{name:"Macys",value:6181},{name:"Amy Schumer",value:4386},{name:"Jurassic World",value:4055},{name:"Charter Communications",value:2467},{name:"Chick Fil A",value:2244},{name:"Planet Fitness",value:1898},{name:"Pitch Perfect",value:1484},{name:"Express",value:1112},{name:"Home",value:965},{name:"Johnny Depp",value:847},{name:"Lena Dunham",value:582},{name:"Lewis Hamilton",value:555},{name:"KXAN",value:550},{name:"Mary Ellen Mark",value:462},{name:"Farrah Abraham",value:366},{name:"Rita Ora",value:360},{name:"Serena Williams",value:282},{name:"NCAA baseball tournament",value:273},{name:"Point Break",value:265}]}]};var i={settingElement:document.getElementById("setting"),downloadElement:"",chartInstance:"",tableInstance:"",minValue:"",maxValue:"",fontFamilyListText:[],positionList:["上居左","上居中","上居右","下居左","下居中","下居右"],gridPositionList:["全部显示","X轴显示","Y轴显示","不显示"],axisLabelPositionList:["全部显示","X轴显示","Y轴显示","不显示"]};if(this.opts=Object.assign({},e,n,i),!this.opts.chartJSON)throw new Error("need chart json");this.block=this.deepClone(this.opts.chartJSON?this.opts.chartJSON:r[2]),this.clipboardCache="";var a=this;this.tableOptions={data:a.deepClone(this.block.dataSrc.data[0]),manualColumnResize:!0,colHeaders:!0,rowHeaders:!0,className:"htMiddle",minCols:8,minRows:13,minSpareCols:1,minSpareRows:1,rowHeights:28,colWidths:100,copyable:!0,sortIndicator:!0,columnSorting:!1,allowEmpty:!1,afterCopy:function(e){a.clipboardCache=t.stringify(e)},afterCut:function(e){a.clipboardCache=t.stringify(e)},afterPaste:function(e){a.clipboardCache=t.stringify(e)}},this.getLocalFontFamilyList(),this.__initChartEditor(),this.createEditorBox(),this.renderChart(),this.renderBackgroundColor(this.opts.backgroundColor),this.oldBlock=this.deepClone(this.opts.chartJSON)}return t(l,[{key:"getParentUrl",value:function(){var t=null;if(parent!==window)try{t=parent.location.href}catch(e){t=document.referrer}return t}},{key:"getUrlParam",value:function(e){var n={};return e.replace(/[?&](.*?)=([^&]*)/g,function(e,t,o){return n[t]=o}),n}},{key:"__initChartEditor",value:function(){this.opts.config?this.opts.settingElement.style.display="block":this.opts.settingElement.style.display="none",this.createSettingHeader(),this.createChoiceBlockListBox(),this.createSettingContent(),this.createTableBox(),this.createTableList(),this.setHandsontableContextMenu(),this.bindSettingTitleClickHandle(),this.bindSettingContentListClickHandle(),this.bindInputBlurHandle(),this.__initTable()}},{key:"bindSettingTitleClickHandle",value:function(){for(var n=document.querySelectorAll(".tab-select"),i=document.querySelectorAll(".edit-box"),a=n.length,l=i.length,r=this,e=function(o){n[o].onclick=function(){for(var e=0;e<a;e++)n[e]&&n[e].classList.remove("active");n[o].classList.add("active");for(var t=0;t<l;t++)i[t]&&i[t].classList.remove("active");i[o].classList.add("active"),2===o&&(document.querySelector("#table .wtHolder").scrollTo(0,0),r.opts.tableInstance.render())}},t=0;t<a;t++)e(t)}},{key:"bindSettingContentListClickHandle",value:function(){for(var o=document.querySelectorAll(".setting-group"),e=document.querySelectorAll(".setting-group .setting-title"),n=o.length,t=function(t){e[t].addEventListener("click",function(){if(o[t].classList.contains("active"))o[t].classList.remove("active");else{for(var e=0;e<n;e++)o[e]&&o[e].classList.remove("active");o[t].classList.add("active")}},!1)},i=0;i<n;i++)t(i)}},{key:"__initTable",value:function(){var t=this,o=this.opts.tableInstance;o.addHook("afterChange",function(e){t.updateTable(e,o),t.uploadColorSetting()}),o.addHook("afterRemoveRow",function(e){t.updateTable(e,o),t.uploadColorSetting()}),o.addHook("afterRemoveCol",function(e){t.updateTable(e,o),t.uploadColorSetting()}),o.addHook("afterUndo",function(e){t.updateTable(e,o),t.uploadColorSetting()})}},{key:"finishColorListLength",value:function(){var e=void 0;switch(this.block.templateSwitch){case"cross":e=this.block.dataSrc.data[0][0],"154778232785223023"===this.block.templateId&&(e=_.unzip(this.block.dataSrc.data[0])[0]);break;case"key-value":e=_.unzip(this.block.dataSrc.data[0])[0];break;case"tree":case"sunburst":case"tree-value":case"obj-n-value":case"obj-type-value":e=_.uniq(_.unzip(this.block.dataSrc.data[0])[0]);break;case"sankey":e=_.compact(_.uniq([].concat(u(_.unzip(this.block.dataSrc.data[0])[0]),u(_.unzip(this.block.dataSrc.data[0])[1]))))}var t=this.deepClone(this.oldBlock.props.colors.list),o=e.length-1-t.length;if(o<=0)e.length<1?t.length=0:"154778171740391769"===this.block.templateId||"154777820323716078"===this.block.templateId||"154778145806026722"===this.block.templateId?t.length=2:t.length=e.length-1,this.block.props.colors.list=t;else{var n=this.deepClone(t),i=void 0;if("number"==typeof(i=0<n.length?n.pop():-1))for(var a=0;a<o;a++){var l=i+a+1;14<l&&(l=this.down14(l)),t.push(l)}else for(var r=0;r<o;r++){var s=r;14<s&&(s=this.down14(s)),t.push(s)}this.block.props.colors.list=t}}},{key:"down14",value:function(e){return e=e%15==0?0:Math.abs(e-15*Math.floor(e/15))}},{key:"updateTable",value:function(e,t){if(e){for(var o=t.countCols(),n=t.countRows(),i=o,a=o-1;0<=a;a--)if(!t.isEmptyCol(a)){i=a;break}for(var l=n,r=n-1;0<=r;r--)if(!t.isEmptyRow(r)){l=r;break}var s=t.getData(0,0,l,i);this.block.dataSrc.data[0]=s,this.opts.chartInstance.setOption(this.block),this.finishColorListLength(),this.oldBlock=this.deepClone(this.block)}}},{key:"setHandsontableContextMenu",value:function(){var o=this,e=this.opts.tableInstance;this.opts.tableInstance.updateSettings({contextMenu:{callback:function(e,t){o.opts.chartInstance.setOption(o.block)},items:{cut:{name:"剪切"},copy:{name:"复制"},hr1:"---------",paste:{name:"粘贴",disabled:function(){return 0===o.clipboardCache.length},callback:function(){var e=this.getPlugin("copyPaste");this.listen(),e.paste(o.clipboardCache),$(".innerBorderLeft .wtHolder").scrollLeft(0),$(".innerBorderLeft .wtHolder").scrollTop(0)}},hr2:"---------",remove:{name:"清除",callback:function(){return e.emptySelectedCells()}},remove_row:{name:"删除所在行"},remove_col:{name:"删除所在列"},hr3:"---------",row_above:{name:"在上方插入一行"},row_below:{name:"在下方插入一行"},col_left:{name:"在左侧插入一列"},col_right:{name:"在右侧插入一列"}}}},!1)}},{key:"stringify",value:function(e){var t,o,n,i,a,l="";for(t=0,o=e.length;t<o;t+=1){for(n=0,i=e[t].length;n<i;n+=1)0<n&&(l+="\t"),"string"==typeof(a=e[t][n])?-1<a.indexOf("\n")?l+='"'+a.replace(/"/g,'""')+'"':l+=a:l+=null==a?"":a;l+="\n"}return l}},{key:"reloadChart",value:function(e){this.showModal(e)}},{key:"reloadTrueChart",value:function(e){if(this.block=this.deepClone(e),this.opts.chartJSON=this.deepClone(e),this.tableOptions.data=this.deepClone(e).dataSrc.data[0],document.getElementById("editor")&&this.remove("#editor"),document.querySelector(".sp-container"))for(var t=document.querySelectorAll(".sp-container"),o=0;o<t.length;o++)t[o]&&this.remove(".sp-container");this.createEditorBox(),this.renderChart(),this.reloadSettingContent(),this.oldBlock=this.deepClone(this.block)}},{key:"showModal",value:function(e){var t=document.createElement("div"),o=document.createElement("div"),n=this;t.id="mask",o.id="modal",document.getElementById("editor-box").appendChild(t),document.getElementById("editor-box").appendChild(o),o.innerHTML="\n      <h2>提示</h2>\n      <p>切换新图表会替换原图表及数据，确定切换吗？</p>\n      <div class='button-tip'>\n        <button id='cancelButton'>取消</button>\n        <button id='confirm'>确定</button>\n      </div>\n    ",document.getElementById("cancelButton").onclick=function(){document.getElementById("editor-box").removeChild(o),document.getElementById("editor-box").removeChild(t)},document.getElementById("confirm").onclick=function(){document.getElementById("editor-box").removeChild(o),document.getElementById("editor-box").removeChild(t),n.reloadTrueChart(e)}}},{key:"reloadSettingContent",value:function(){document.getElementById("setting-box").innerHTML="",this.createSettingContentList(),this.bindSettingContentListClickHandle(),this.bindInputBlurHandle(),this.opts.tableInstance.loadData(this.deepClone(this.block.dataSrc.data[0]))}},{key:"exportImage",value:function(e,t){var o=document.createElement("div"),n=document.createElement("div");o.id="mask",n.id="loading",document.getElementById("editor-box").appendChild(o),document.getElementById("editor-box").appendChild(n),n.innerHTML='\n      <div class="circlebox">\n        <p></p>\n        <p></p>\n        <p></p>\n        <p></p>\n      </div>\n      <div class="circlebox">\n        <p></p>\n        <p></p>\n        <p></p>\n        <p></p>\n      </div>\n    ',this.filterProjectFonts();var i=document.getElementById("editor");if(i){var a=e.scale;a=a?5<a?5:a:1,e.transparent||(e.transparent=!1),domtoimage.toBlob(i,{width:500*a,height:400*a,style:{margin:"0",border:"none","border-radius":0,transform:"scale("+a+")","transform-origin":"top left","box-shadow":"none",background:!1===e.transparent?e.background?e.background:"#fff":"transparent"}}).then(function(e){$.ajax({url:"https://dydata.io/vis/dychart/upload/binary_image",data:e,type:"POST",contentType:!1,processData:!1,success:function(e){1e3===e.resultCode&&(document.getElementById("editor-box").removeChild(n),document.getElementById("editor-box").removeChild(o),t(e.data.url))}})}).catch(function(e){console.error("upload image error",e)})}}},{key:"updateJSON",value:function(e,t){e&&(this.reloadChart(e),t&&t())}},{key:"getJSON",value:function(e){e(this.block)}},{key:"createChoiceBlockListBox",value:function(){var e=document.createElement("div");e.className="edit-box choice-block-box active",e.innerHTML='\n      <div class="block-list">'+this.createChoiceBlockList()+"</div>\n    ",this.opts.settingElement.appendChild(e),this.bindChartListClickHandle()}},{key:"createChoiceBlockList",value:function(){for(var e="",t=0;t<r.length;t++)e+='\n        <li class="chart-list">\n          <img src="'+r[t].thumb+'">\n          <span>'+r[t].title+"</span>\n        </li>\n      ";return e}},{key:"bindChartListClickHandle",value:function(){var t=document.querySelectorAll(".chart-list");if(t)for(var o=this,e=function(e){t[e].addEventListener("click",function(){o.reloadChart(r[e])},!1)},n=0;n<t.length;n++)e(n)}},{key:"createTableBox",value:function(){var e=document.createElement("div");e.className="edit-box table",e.id="table",this.opts.settingElement.appendChild(e)}},{key:"createTableList",value:function(){this.opts.tableInstance=new Handsontable(document.getElementById("table"),this.tableOptions)}},{key:"createSettingHeader",value:function(){var e=document.createElement("div");e.className="setting-header",e.innerHTML='\n      <div class="choice-block tab-select active">图表选择</div><div class="edit-block tab-select">图表设置</div><div class="edit-table tab-select">编辑数据</div>\n    ',this.opts.settingElement.appendChild(e)}},{key:"createSettingContent",value:function(){var e=document.createElement("div");e.className="edit-box",e.id="setting-box",this.opts.settingElement.appendChild(e),this.createSettingContentList()}},{key:"createSettingContentList",value:function(){this.createThemeSetting(),this.block.props.label&&this.createLabelSetting(),"114473474859453649"===this.block.templateId?this.createWordcloudColorSettinge():("key-value"!==this.block.templateSwitch&&"4612096174443311107"!==this.block.templateId||this.createMapSetting(),this.createTitleSetting(),this.createFontSetting(),this.createColorSetting(),this.createLegendSetting()),this.createAxisSetting(),this.createTooltipSetting()}},{key:"createThemeSetting",value:function(){var e=document.createElement("div");e.className="setting-group active",e.innerHTML='\n      <div class="setting-title">主题</div>\n      <div class="setting-content">\n\n        <div class="small-title">主题选择</div>\n        <div id="themeDropdown" class="dropdown-menu"></div>\n\n        <div class="color-picker-box">\n          <input type="text" id="pageColorPicker">  \n          <div class="color-picker-left">画布颜色</div>\n        </div>\n\n        <div id="themeReset" class="reset-btn">恢复默认设置</div>\n\n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.bindPageColorPickerHandle(),this.bindThemeDropdownHandle(),this.bindThemeResetHandle()}},{key:"initThemeDropdown",value:function(){$("#themeDropdown").dropdown({list:this.formatDropdownColorList(s),index:0,updateIndex:!0})}},{key:"bindThemeDropdownHandle",value:function(){var t=this;$("#themeDropdown").dropdown({list:this.formatDropdownColorList(s),bindClick:!0,callback:function(e){t.opts.chartJSON.theme=s[e].theme,t.block.theme=s[e].theme,t.renderBackgroundColor(t.block.theme.backgroundColor),setTimeout(function(){$("#pageColorPicker").spectrum("set",t.block.theme.backgroundColor)},0),t.opts.chartColorList=s[e].theme.colors,t.replaceCurrentBlock(),$(".sdk-color-picker").remove(),t.updateAllProject(),t.bindPageColorPickerHandle(),t.bindLabelTextColorPicer(),t.bindLabelNumberColorPicer(),t.bindTitleColorPickerHandle(),t.bindFontSizeColorPickerHandle(),t.uploadColorSetting(),t.block.props.axis&&t.block.props.axis.grid&&t.bindGridColorPickerHandle(),t.block.props.axis&&t.block.props.axis.color&&t.bindAxisColorPickerHandle(),t.opts.chartInstance.setOption(t.block)}})}},{key:"bindPageColorPickerHandle",value:function(){var o=this;$("#pageColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.opts.backgroundColor?o.opts.backgroundColor:"#fff",palette:o.opts.chartColorList,change:function(e){o.renderBackgroundColor(e.toHexString())}}),$("#pageColorPicker").on("dragstop.spectrum",function(e,t){o.renderBackgroundColor(t.toHexString())}),$("#pageColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&o.renderBackgroundColor(color.toHexString())})}},{key:"bindThemeResetHandle",value:function(){var e=this,t=document.getElementById("themeReset");t&&t.addEventListener("click",function(){e.bindResetHandle("theme")})}},{key:"replaceCurrentBlock",value:function(){this.block.props.axis&&(this.block.props.axis.color=this.block.theme.axis.color,this.block.props.axis.grid&&(this.block.props.axis.grid.color=this.block.theme.grid.color)),this.block.props.font.color=this.block.theme.fonts.color,this.block.props.font.fontFamily=this.block.theme.fonts.fontFamily,this.block.props.font.fontSize=this.block.theme.fonts.fontSize}},{key:"updateAllProject",value:function(){this.initLabelSwitch(),this.initLabelCheckedbox(),this.initTitleSwitch(),this.initTitleInput(),this.initTitleColorPicker(),this.initTitleFontFamilySelected(),this.initTitleInputRange(),this.initTitlePositionSelected(),this.initFontSizeColorPicker(),this.initFontSizeSelected(),this.initFontSizeInputRang(),this.uploadColorSetting(),this.initLegendSwitch(),this.initLegendPositionSelected()}},{key:"createLabelSetting",value:function(){if(!(-1<["4447460703254610041","5543734748594536502","5543734748595436502","111734748594536325","5544734748594536478","4612096174443311107","5544734748594536500","5543533748794536504","5543733748594536504","5543733748594536505","5544734748594536484","4447460703254610031","154771854328053247","154777693253141239","114473474859453649","4612096174443311114","444746070325460995","5544734748594536440","5544734748594536441","3612096174443311121","3612096174443311122","3612096174443311123"].indexOf(this.block.templateId))){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">标签</div>\n      <div class="setting-content">\n\n        '+this.createLabelSwitch()+"\n\n        "+this.createyLabelSelected()+"\n\n        "+this.createyLabelContent()+"\n\n        "+this.createyLabelText()+"\n\n        "+this.createyLabelNumber()+'\n\n        <div id="labelReset" class="reset-btn">恢复默认设置</div>\n        \n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.initLabelSwitch(),this.bindLabelSwitchHandle(),this.initLabelBarSwitch(),this.bindLabelBarSwitchHandle(),this.initLabelLineSwitch(),this.bindLabelLineSwitchHandle(),this.initLabelTextSwitch(),this.bindLabelTextSwitchHandle(),this.initLabelNumberSwitch(),this.bindLabelNumberSwitchHandle(),this.bindLabelSelectedHandle(),this.initLabelSelected(),this.bindLabelBarSelectedHandle(),this.initLabelBarSelected(),this.bindLabelLineSelectedHandle(),this.initLabelLineSelected(),this.initLabelCheckedbox(),this.bindLabelCheckedboxHandle(),this.bindLabelTextColorPicer(),this.bindLabelTextFamily(),this.bindLabelTextFontSize(),this.bindLabelNumberColorPicer(),this.bindLabelNumberFamily(),this.bindLabelNumberFontSize(),this.initLabelText(),this.initLabelNumber(),this.bindLabelResetHandle()}}},{key:"createLabelCheckBox",value:function(e){if(e){for(var t="",o=0;o<e.length;o++)t+='\n          <div class="checked-list">\n            <input value="'+e[o]+'" class="label-checked-input" type="checkbox" id="map-'+o+'">\n            <label for="map-'+o+'">'+e[o]+"</label>\n          </div>\n        ";return t}return""}},{key:"createLabelSwitch",value:function(){return-1<["154778171740391769","154777820323716078"].indexOf(this.block.templateId)?"":"5544734748594536332"===this.block.templateId?'\n        <div class="small-title">显示柱形标签</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="labelBarSwitch">\n\n        <div class="small-title">位置</div>\n        <div class="dropdown-menu" id="barLabel"></div>\n\n        <div class="small-title">显示折线标签</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="labelLineSwitch">\n\n        <div class="small-title">位置</div>\n        <div class="dropdown-menu" id="lineLabel"></div>\n      ':'\n        <div class="small-title">标签显示</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="labelSwitch">\n      '}},{key:"createyLabelSelected",value:function(){return this.block.props.label.positionOptions?'\n        <div class="small-title">位置</div>\n        <div class="dropdown-menu title-margin" id="labelPositionList"></div>\n      ':""}},{key:"createyLabelContent",value:function(){return this.block.props.label.contentOption?'\n        <div class="small-title">显示内容</div>\n        <div class="checked-box title-margin">\n          '+this.createLabelCheckBox(this.block.props.label.contentOption)+"\n        </div>\n      ":""}},{key:"createyLabelText",value:function(){return this.block.props.label.textLabel?"\n        "+this.isShowTextLabelSwitch()+'\n\n        <div class="color-picker-box">\n          <input type="text" id="labelTextColorPicker">  \n          <div class="color-picker-left">颜色</div>\n        </div>\n\n        <div class="small-title color-picker-margin">字体</div>\n        <div id="labelFontFamily" class="dropdown-menu title-margin"></div>\n        \n        <div class="small-title">字号(px)</div>\n        <div id="labelInputRangeBox" class="title-margin">\n          '+this.createInputRange(this.block.props.label.textLabel.fontSize)+"\n        </div>\n      ":""}},{key:"createyLabelNumber",value:function(){return this.block.props.label&&this.block.props.label.numberLabel?'\n        <div class="small-title">数字标签显示</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="numberLabelSwitch">\n\n        <div class="color-picker-box">\n          <input type="text" id="labelNumberColorPicker">  \n          <div class="color-picker-left">颜色</div>\n        </div>\n\n        <div class="small-title color-picker-margin">字体</div>\n        <div id="labelNumberFontFamily" class="dropdown-menu title-margin"></div>\n        \n        <div class="small-title">字号(px)</div>\n        <div id="labelNumberInputRangeBox" class="title-margin">\n          '+this.createInputRange(this.block.props.label.numberLabel.fontSize)+"\n        </div>\n      ":""}},{key:"isShowTextLabelSwitch",value:function(){return-1<["154778171740391769","154777820323716078"].indexOf(this.block.templateId)?'\n        <div class="small-title">文字标签显示</div>\n\n        <input class="switch switch-anim title-margin" type="checkbox" id="textLabelSwitch">\n      ':""}},{key:"bindLabelTextColorPicer",value:function(){if(this.block.props.label&&this.block.props.label.textLabel){var o=this;$("#labelTextColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.block.props.label.textLabel.color?o.block.props.label.textLabel.color:"#000",palette:o.opts.chartColorList,change:function(e){o.block.props.label.textLabel.color=e.toHexString(),o.opts.chartInstance.setOption(o.block)}}),$("#labelTextColorPicker").on("dragstop.spectrum",function(e,t){o.block.props.label.textLabel.color=t.toHexString(),o.opts.chartInstance.setOption(o.block)}),$("#labelTextColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(o.block.props.label.textLabel.color=color.toHexString(),o.opts.chartInstance.setOption(o.block))})}}},{key:"bindLabelTextFamily",value:function(){var t=this;$("#labelFontFamily").dropdown({list:t.deepClone(t.opts.fontFamilyListText),callback:function(e){t.block.props.label.textLabel.fontFamily=t.opts.fontFamilyListText[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"bindLabelTextFontSize",value:function(){if(this.block.props.label.textLabel){var t=document.querySelector("#labelInputRangeBox .input-range"),o=this;$(t).RangeSlider({min:0,max:100,step:1,callback:function(e){o.block.props.label.textLabel.fontSize=t.value,o.opts.chartInstance.setOption(o.block)}})}}},{key:"bindLabelNumberColorPicer",value:function(){if(this.block.props.label&&this.block.props.label.numberLabel){var o=this;$("#labelNumberColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.block.props.label.numberLabel.color?o.block.props.label.numberLabel.color:"#000",palette:o.opts.chartColorList,change:function(e){o.block.props.label.numberLabel.color=e.toHexString(),o.opts.chartInstance.setOption(o.block)}}),$("#labelNumberColorPicker").on("dragstop.spectrum",function(e,t){o.block.props.label.numberLabel.color=t.toHexString(),o.opts.chartInstance.setOption(o.block)}),$("#labelNumberColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(o.block.props.label.numberLabel.color=color.toHexString(),o.opts.chartInstance.setOption(o.block))})}}},{key:"bindLabelNumberFamily",value:function(){var t=this;$("#labelNumberFontFamily").dropdown({list:t.deepClone(t.opts.fontFamilyListText),callback:function(e){t.block.props.label.numberLabel.fontFamily=t.opts.fontFamilyListText[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"bindLabelNumberFontSize",value:function(){if(this.block.props.label&&this.block.props.label.numberLabel){var t=document.querySelector("#labelNumberInputRangeBox .input-range"),o=this;$(t).RangeSlider({min:0,max:100,step:1,callback:function(e){o.block.props.label.numberLabel.fontSize=t.value,o.opts.chartInstance.setOption(o.block)}})}}},{key:"initLabelSwitch",value:function(){var e=document.getElementById("labelSwitch");e&&(e.checked=this.block.props.label.display)}},{key:"bindLabelSwitchHandle",value:function(){var e=document.getElementById("labelSwitch");if(e){var t=this;e.addEventListener("change",function(e){t.block.props.label.display=!!this.checked,t.opts.chartInstance.setOption(t.block)})}}},{key:"initLabelBarSwitch",value:function(){var e=document.getElementById("labelBarSwitch");e&&(e.checked=this.block.props.label.bardisplay)}},{key:"bindLabelBarSwitchHandle",value:function(){var e=document.getElementById("labelBarSwitch");if(e){var t=this;e.addEventListener("change",function(e){t.block.props.label.bardisplay=!!this.checked,t.opts.chartInstance.setOption(t.block)})}}},{key:"initLabelLineSwitch",value:function(){var e=document.getElementById("labelLineSwitch");e&&(e.checked=this.block.props.label.linedisplay)}},{key:"bindLabelLineSwitchHandle",value:function(){var e=document.getElementById("labelLineSwitch");if(e){var t=this;e.addEventListener("change",function(e){t.block.props.label.linedisplay=!!this.checked,t.opts.chartInstance.setOption(t.block)})}}},{key:"initLabelTextSwitch",value:function(){var e=document.getElementById("textLabelSwitch");e&&(e.checked=this.block.props.label.textLabel.show)}},{key:"bindLabelTextSwitchHandle",value:function(){var e=document.getElementById("textLabelSwitch"),t=this;e&&e.addEventListener("change",function(e){t.block.props.label.textLabel.show=e.target.checked,t.opts.chartInstance.setOption(t.block)})}},{key:"initLabelNumberSwitch",value:function(){var e=document.getElementById("numberLabelSwitch");e&&(e.checked=this.block.props.label.numberLabel.show)}},{key:"bindLabelNumberSwitchHandle",value:function(){var e=document.getElementById("numberLabelSwitch"),t=this;e&&e.addEventListener("change",function(e){t.block.props.label.numberLabel.show=e.target.checked,t.opts.chartInstance.setOption(t.block)})}},{key:"initLabelSelected",value:function(){if(this.block.props.label.positionChoice){var e=this.block.props.label.positionOptions.indexOf(this.block.props.label.positionChoice);$("#labelPositionList").dropdown({list:this.block.props.label.positionOptions,index:-1<e?e:0,updateIndex:!0})}}},{key:"bindLabelSelectedHandle",value:function(){if(this.block.props.label.positionChoice){var t=this;$("#labelPositionList").dropdown({list:t.deepClone(t.block.props.label.positionOptions),callback:function(e){t.block.props.label.positionChoice=t.block.props.label.positionOptions[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}}},{key:"bindLabelBarSelectedHandle",value:function(){if(this.block.props.label.barpositionOptions){var t=this;$("#barLabel").dropdown({list:t.deepClone(t.block.props.label.barpositionOptions),callback:function(e){t.block.props.label.barpositionChoice=t.block.props.label.barpositionOptions[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}}},{key:"initLabelBarSelected",value:function(){if(this.block.props.label.barpositionChoice){var e=this.block.props.label.barpositionOptions.indexOf(this.block.props.label.barpositionChoice);$("#barLabel").dropdown({list:this.block.props.label.barpositionOptions,index:-1<e?e:0,updateIndex:!0})}}},{key:"bindLabelLineSelectedHandle",value:function(){if(this.block.props.label.linepositionOptions){var t=this;$("#lineLabel").dropdown({list:t.deepClone(t.block.props.label.linepositionOptions),callback:function(e){t.block.props.label.linepositionChoice=t.block.props.label.linepositionOptions[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}}},{key:"initLabelLineSelected",value:function(){if(this.block.props.label.linepositionChoice){var e=this.block.props.label.linepositionOptions.indexOf(this.block.props.label.linepositionChoice);$("#lineLabel").dropdown({list:this.block.props.label.linepositionOptions,index:-1<e?e:0,updateIndex:!0})}}},{key:"initLabelCheckedbox",value:function(){for(var e=document.querySelectorAll(".label-checked-input"),t=0;t<e.length;t++){if(0<=this.block.props.label.contentChoice.indexOf(e[t].value))e[this.block.props.label.contentOption.indexOf(e[t].value)].checked=!0}}},{key:"bindLabelCheckedboxHandle",value:function(){for(var e=document.querySelectorAll(".label-checked-input"),o=this,n=this.deepClone(this.block.props.label.contentChoice),t=0;t<e.length;t++)e[t].addEventListener("change",function(e){if(this.checked)n.push(e.target.value);else{var t=n.indexOf(e.target.value);0<=t&&n.splice(t,1)}o.block.props.label.contentChoice=n,o.opts.chartInstance.setOption(o.block)})}},{key:"initLabelText",value:function(){var e=this.block.props.label,t=this.opts.fontFamilyListText;if(e.textLabel){var o=document.querySelector("#labelInputRangeBox .input-range");$(o).RangeSlider({setValue:e.textLabel.fontSize});var n=t.indexOf(e.textLabel.fontFamily);n=-1<n?n:0,$("#labelFontFamily").dropdown({list:this.deepClone(t),index:n,updateIndex:!0}),$("#labelTextColorPicker").spectrum("set",this.setThemeListHexColor(e.textLabel.color))}}},{key:"initLabelNumber",value:function(){var e=this.block.props.label,t=this.opts.fontFamilyListText;if(e.numberLabel){var o=document.querySelector("#labelNumberInputRangeBox .input-range");$(o).RangeSlider({setValue:e.numberLabel.fontSize});var n=t.indexOf(e.numberLabel.fontFamily);n=-1<n?n:0,$("#labelNumberFontFamily").dropdown({list:this.deepClone(t),index:n,updateIndex:!0}),$("#labelNumberColorPicker").spectrum("set",this.setThemeListHexColor(e.numberLabel.color))}}},{key:"bindLabelResetHandle",value:function(){var e=this,t=document.getElementById("labelReset");t&&t.addEventListener("click",function(){e.bindResetHandle("label")})}},{key:"createMapSetting",value:function(){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">映射</div>\n      <div class="setting-content">\n        '+this.createMapSettingList()+"\n      </div>\n    ",document.getElementById("setting-box").appendChild(e),this.bindMapSelectHandle()}},{key:"createMapSettingList",value:function(){for(var e=this.block.props.map[0],t="",o=0;o<e.length;o++)t+='\n        <div class="small-title">'+e[o].name+'</div>\n        <div class="dropdown-menu mapSetting'+[o]+'"></div>\n      ';return t}},{key:"bindMapSelectHandle",value:function(){for(var e=this,n=this.block.props.map[0],i=this.block.dataSrc.data[0][0].filter(function(e){return null!==e}),t=function(t){var o=e;$(".mapSetting"+t).dropdown({list:i,index:n[t].index,callback:function(e){o.block.props.map[0][t].index=e,o.opts.chartInstance.setOption(o.block)},bindClick:!0})},o=0;o<n.length;o++)t(o)}},{key:"createTitleSetting",value:function(){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">标题</div>\n      <div class="setting-content">\n\n        <div class="small-title">标题显示</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="titleSwitch">\n\n        <div class="small-title">名称</div>\n        <input class="title-input title-margin input-text" type="text" id="titleInput">\n\n        <div class="color-picker-box">\n          <input type="text" id="titleColorPicker">\n          <div class="color-picker-left">标题颜色</div>\n        </div>\n\n        <div class="small-title color-picker-margin">字体</div>\n        <div id="titleFontSizeDropdown" class="dropdown-menu"></div>\n\n        <div class="small-title">字号(px)</div>\n        <div id="titleInputRangeBox" class="title-margin">\n          '+this.createInputRange(this.block.props.titleDisplay.fontSize)+'\n        </div>\n\n        <div class="small-title">位置</div>\n        <div id="titlePositionDropdown" class="dropdown-menu"></div>\n\n        <div id="titleReset" class="reset-btn">恢复默认设置</div>\n        \n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.initTitleSwitch(),this.bindTitleSwitchHandle(),this.initTitleInput(),this.bindTitleInputHandle(),this.bindTitleFontFamilySelectedHandle(),this.initTitleFontFamilySelected(),this.bindTitlePositionSelectedHandle(),this.initTitlePositionSelected(),this.bindTitleInputRangeHandle(),this.bindTitleColorPickerHandle(),this.bindTitleResetHandle()}},{key:"initTitleSwitch",value:function(){var e=document.getElementById("titleSwitch");this.block.props.titleDisplay.show?e.checked=!0:e.checked=!1}},{key:"bindTitleSwitchHandle",value:function(){var e=document.getElementById("titleSwitch"),t=this;e.addEventListener("change",function(e){t.block.props.titleDisplay.show=!!this.checked,t.opts.chartInstance.setOption(t.block)})}},{key:"initTitleInput",value:function(){document.getElementById("titleInput").value=this.block.props.titleDisplay.text}},{key:"bindTitleInputHandle",value:function(){var e=document.getElementById("titleInput"),t=this;e.addEventListener("blur",function(e){t.block.props.titleDisplay.text=e.target.value,t.opts.chartInstance.setOption(t.block)})}},{key:"initTitleColorPicker",value:function(){$("#titleColorPicker").spectrum("set",this.setThemeListHexColor(this.block.props.titleDisplay.color))}},{key:"bindTitleColorPickerHandle",value:function(){var o=this;$("#titleColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.block.props.titleDisplay.color,palette:o.opts.chartColorList,change:function(e){o.block.props.titleDisplay.color=e.toHexString(),o.opts.chartInstance.setOption(o.block)}}),$("#titleColorPicker").on("dragstop.spectrum",function(e,t){o.block.props.titleDisplay.color=t.toHexString(),o.opts.chartInstance.setOption(o.block)}),$("#titleColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(o.block.props.titleDisplay.color=e.target.value,o.opts.chartInstance.setOption(o.block))})}},{key:"initTitleFontFamilySelected",value:function(){var e=this.opts.fontFamilyListText.indexOf(this.block.props.titleDisplay.fontFamily);e=-1<e?e:0,$("#titleFontSizeDropdown").dropdown({list:this.deepClone(this.opts.fontFamilyListText),index:e,updateIndex:!0})}},{key:"bindTitleFontFamilySelectedHandle",value:function(){var t=this;$("#titleFontSizeDropdown").dropdown({list:t.deepClone(this.opts.fontFamilyListText),callback:function(e){t.block.props.titleDisplay.fontFamily=t.opts.fontFamilyListText[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"initTitleInputRange",value:function(){var e=document.querySelector("#titleInputRangeBox .input-range");$(e).RangeSlider({setValue:this.block.props.titleDisplay.fontSize})}},{key:"bindTitleInputRangeHandle",value:function(){var t=document.querySelector("#titleInputRangeBox .input-range"),o=this;$(t).RangeSlider({min:0,max:100,step:1,callback:function(e){o.block.props.titleDisplay.fontSize=t.value,o.opts.chartInstance.setOption(o.block)}})}},{key:"initTitlePositionSelected",value:function(){var e=0;switch(this.block.props.titleDisplay.yPosition){case"top":switch(this.block.props.titleDisplay.xPosition){case"left":e=0;break;case"center":e=1;break;case"right":e=2}break;case"bottom":switch(this.block.props.titleDisplay.xPosition){case"left":e=3;break;case"center":e=4;break;case"right":e=5}}$("#titlePositionDropdown").dropdown({list:this.deepClone(this.opts.positionList),index:e,updateIndex:!0})}},{key:"bindTitlePositionSelectedHandle",value:function(){var t=this;$("#titlePositionDropdown").dropdown({list:t.deepClone(this.opts.positionList),callback:function(e){switch(e){case 0:t.block.props.titleDisplay.xPosition="left",t.block.props.titleDisplay.yPosition="top";break;case 1:t.block.props.titleDisplay.xPosition="center",t.block.props.titleDisplay.yPosition="top";break;case 2:t.block.props.titleDisplay.xPosition="right",t.block.props.titleDisplay.yPosition="top";break;case 3:t.block.props.titleDisplay.xPosition="left",t.block.props.titleDisplay.yPosition="bottom";break;case 4:t.block.props.titleDisplay.xPosition="center",t.block.props.titleDisplay.yPosition="bottom";break;case 5:t.block.props.titleDisplay.xPosition="right",t.block.props.titleDisplay.yPosition="bottom"}t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"bindTitleResetHandle",value:function(){var e=this,t=document.getElementById("titleReset");t&&t.addEventListener("click",function(){e.bindResetHandle("title")})}},{key:"createColorSetting",value:function(){var e=document.createElement("div");e.className="setting-group";var t=this.formatDataSrc();e.innerHTML='\n      <div class="setting-title">颜色</div>\n      <div class="setting-content" id="colorSetting">\n        '+this.createColorPicker(t)+"\n      </div>\n    ",document.getElementById("setting-box").appendChild(e),this.__initColorPicker(t),this.bindColorResetHandle()}},{key:"createWordcloudColorSettinge",value:function(){var e=document.createElement("div");e.className="setting-group";var t=this.formatDataSrc();e.innerHTML='\n      <div class="setting-title">颜色</div>\n      <div class="setting-content">\n\n        <div class="wordcloud-color-setting">\n          <div class="use-single-color">使用单色</div>\n          <input style="margin-bottom: 0;" class="switch switch-anim" type="checkbox" id="wordcloudColorSwitch">\n        </div>\n\n        '+this.createColorPicker(t,!0)+"\n      </div>\n    ",document.getElementById("setting-box").appendChild(e),this.bindWordcloudColorSwitchHandle(),this.__initColorPicker(t)}},{key:"bindWordcloudColorSwitchHandle",value:function(){document.getElementById("wordcloudColorSwitch")}},{key:"createColorPicker",value:function(e,t){if(e){for(var o="",n=0;n<e.length;n++)o+='\n          <div class="color-group">\n            <input type="text" class="color-box'+n+'">\n            <span>'+(t?"":e[n])+"</span>\n          </div>\n        ";return o+='<div id="colorReset" class="reset-btn">恢复默认设置</div>'}}},{key:"__initColorPicker",value:function(e){var n=this,t=void 0,o=this.deepClone(this.block.props.colors.list),i=e.length;if(e.length>o.length){for(var a=[],l=0;l<Math.ceil(i/o.length);l++)a.push.apply(a,u(o));t=a.slice(0,i),this.block.props.colors.list=this.deepClone(t)}else t=this.deepClone(this.block.props.colors.list);for(var r=this.block.theme.colors,s=this.formatColor(t,r),c=function(o){$(".color-box"+o).spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:s[o],palette:n.opts.chartColorList,change:function(e){n.block.props.colors.list[o]=e.toHexString(),n.oldBlock.props.colors.list[o]=e.toHexString(),n.opts.chartInstance.setOption(n.block)}}),$(".color-box"+o).on("dragstop.spectrum",function(e,t){n.block.props.colors.list[o]=t.toHexString(),n.oldBlock.props.colors.list[o]=t.toHexString(),n.opts.chartInstance.setOption(n.block)}),$(".color-box"+o).spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(n.block.props.colors.list[o]=e.target.value,n.oldBlock.props.colors.list[o]=color.toHexString(),n.opts.chartInstance.setOption(n.block))})},d=0;d<e.length;d++)c(d)}},{key:"uploadColorSetting",value:function(){var e=this.formatDataSrc(),t=document.getElementById("colorSetting");t.innerHTML="",t.innerHTML=this.createColorPicker(e),this.bindColorResetHandle(),this.__initColorPicker(e)}},{key:"bindColorResetHandle",value:function(){var e=this,t=document.getElementById("colorReset");t&&t.addEventListener("click",function(){setTimeout(function(){e.bindResetHandle("color")},0)})}},{key:"createAxisSetting",value:function(){if(this.block.props.axis&&this.block.props.axis.grid){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">轴、网格线</div>\n      <div class="setting-content">\n\n        <div class="small-title">网格线</div>\n        <div id="gridPositionDropdown" class="dropdown-menu"></div>\n\n        <div class="color-picker-box">\n          <input type="text" id="gridColorPicker">\n          <div class="color-picker-left">网格线颜色</div>\n        </div>\n\n          '+this.createAxisLabelTitle()+"\n\n          "+this.createyAxisLabel()+"\n        \n          "+this.createyAxisColorPicker()+"\n\n          "+this.createyAxisRange()+'\n\n        <div id="gridAndAxisReset" class="reset-btn">恢复默认设置</div>\n\n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.bindGridSelectedHandle(),this.initGridSelected(),this.bindGridColorPickerHandle(),this.initxAxisInput(),this.bindxAxisInputHandle(),this.inityAxisInput(),this.bindyAxisInputHandle(),this.bindAxisSelectedHandle(),this.initAxisSelected(),this.bindAxisColorPickerHandle(),this.block.props.axis.y.range&&(this.inityAxisMinRange(),this.bindyAxisMinRangeHandle(),this.inityAxisMaxRange(),this.bindyAxisMaxRangeHandle()),this.bindGridAndAxisResetHandle()}}},{key:"initGridSelected",value:function(){var e=0;switch(this.block.props.axis.grid.show){case"all":e=0;break;case"x":e=1;break;case"y":e=2;break;case"none":default:e=3}$("#gridPositionDropdown").dropdown({list:this.deepClone(this.opts.gridPositionList),index:e,updateIndex:!0})}},{key:"bindGridSelectedHandle",value:function(){var t=this;$("#gridPositionDropdown").dropdown({list:t.deepClone(this.opts.gridPositionList),callback:function(e){switch(e){case 0:t.block.props.axis.grid.show="all";break;case 1:t.block.props.axis.grid.show="x";break;case 2:t.block.props.axis.grid.show="y";break;case 3:t.block.props.axis.grid.show="none"}t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"createAxisLabelTitle",value:function(){return"5544734748594536491"===this.block.templateId||"5944734748594536331"===this.block.templateId?"":'\n        <div class="small-title color-picker-margin">X轴标题</div>\n        <input class="axis-input title-margin input-text" type="text" id="xAxisInput">\n\n        <div class="small-title">Y轴标题</div>\n        <input class="axis-input title-margin input-text" type="text" id="yAxisInput">\n      '}},{key:"createyAxisLabel",value:function(){return"5544734748594536491"===this.block.templateId||"5944734748594536331"===this.block.templateId?"":'\n        <div class="small-title">轴标签</div>\n        <div id="axisDropdown" class="dropdown-menu"></div>\n      '}},{key:"createyAxisColorPicker",value:function(){return"5544734748594536491"===this.block.templateId||"5944734748594536331"===this.block.templateId?"":'\n        <div class="color-picker-box">\n          <input type="text" id="axisColorPicker">\n          <div class="color-picker-left">轴颜色</div>\n        </div>\n      '}},{key:"createyAxisRange",value:function(){return"5544734748594536491"===this.block.templateId||"5944734748594536331"===this.block.templateId?"":'\n        <div class="small-title color-picker-margin">y轴取值范围（Min - Max）</div>\n        <div class="y-axis-range">\n          <input id="yAxisMinRange" class="input-text" type="text" onafterpaste="if(isNaN(value))execCommand(\'undo\')" onkeyup="if(isNaN(value))execCommand(\'undo\')">\n          -\n          <input id="yAxisMaxRange" class="input-text" type="text" onafterpaste="if(isNaN(value))execCommand(\'undo\')" onkeyup="if(isNaN(value))execCommand(\'undo\')">\n        </div>\n      '}},{key:"initGridColorPicker",value:function(){$("#gridColorPicker").spectrum("set",this.block.props.axis.grid.color)}},{key:"bindGridColorPickerHandle",value:function(){var o=this;$("#gridColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.block.props.axis.grid.color,palette:o.opts.chartColorList,change:function(e){o.block.props.axis.grid.color=e.toHexString(),o.opts.chartInstance.setOption(o.block)}}),$("#gridColorPicker").on("dragstop.spectrum",function(e,t){o.block.props.axis.grid.color=t.toHexString(),o.opts.chartInstance.setOption(o.block)}),$("#gridColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(o.block.props.axis.grid.color=e.target.value,o.opts.chartInstance.setOption(o.block))})}},{key:"initxAxisInput",value:function(){var e=document.getElementById("xAxisInput");e&&(e.value=this.block.props.axis.x.name)}},{key:"bindxAxisInputHandle",value:function(){var e=document.getElementById("xAxisInput");if(e){var t=this;e.addEventListener("blur",function(e){t.block.props.axis.x.name=e.target.value,t.opts.chartInstance.setOption(t.block)})}}},{key:"inityAxisInput",value:function(){var e=document.getElementById("yAxisInput");e&&(e.value=this.block.props.axis.y.name)}},{key:"bindyAxisInputHandle",value:function(){var e=document.getElementById("yAxisInput");if(e){var t=this;e.addEventListener("blur",function(e){t.block.props.axis.y.name=e.target.value,t.opts.chartInstance.setOption(t.block)})}}},{key:"initAxisSelected",value:function(){var e=0;this.block.props.axis.x&&this.block.props.axis.y?e=this.block.props.axis.x.labelShow&&this.block.props.axis.y.labelShow?0:this.block.props.axis.x.labelShow?1:this.block.props.axis.y.labelShow?2:3:this.block.props.axis.x?e=this.block.props.axis.x.labelShow?0:1:this.block.props.axis.y&&(e=this.block.props.axis.y.labelShow?0:1),$("#axisDropdown").dropdown({list:this.deepClone(this.opts.gridPositionList),index:e,updateIndex:!0})}},{key:"bindAxisSelectedHandle",value:function(){var t=this;$("#axisDropdown").dropdown({list:t.deepClone(this.opts.gridPositionList),callback:function(e){if(4===t.opts.axisLabelPositionList.length)switch(e){case 0:t.block.props.axis.x.labelShow=!0,t.block.props.axis.y.labelShow=!0;break;case 1:t.block.props.axis.x.labelShow=!0,t.block.props.axis.y.labelShow=!1;break;case 2:t.block.props.axis.x.labelShow=!1,t.block.props.axis.y.labelShow=!0;break;case 3:t.block.props.axis.x.labelShow=!1,t.block.props.axis.y.labelShow=!1}else if("X轴显示"===t.opts.axisLabelPositionList[0])switch(e){case 0:t.block.props.axis.x.labelShow=!0;break;case 1:t.block.props.axis.x.labelShow=!1}else switch(e){case 0:t.block.props.axis.y.labelShow=!0;break;case 1:t.block.props.axis.y.labelShow=!1}t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"initAxisColorPicker",value:function(){$("#axisColorPicker").spectrum("set",this.block.props.axis.color)}},{key:"bindAxisColorPickerHandle",value:function(){var o=this;$("#axisColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.block.props.axis.color,palette:o.opts.chartColorList,change:function(e){o.block.props.axis.color=e.toHexString(),o.opts.chartInstance.setOption(o.block)}}),$("#axisColorPicker").on("dragstop.spectrum",function(e,t){o.block.props.axis.color=t.toHexString(),o.opts.chartInstance.setOption(o.block)}),$("#axisColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(o.block.props.axis.color=e.target.value,o.opts.chartInstance.setOption(o.block))})}},{key:"inityAxisMinRange",value:function(){var e=document.getElementById("yAxisMinRange");if(e){var t=this.block.props.axis.y.range[0];e.value=t||null}}},{key:"bindyAxisMinRangeHandle",value:function(){var e=document.getElementById("yAxisMinRange");if(e){var n=this;e.addEventListener("blur",function(e){if(e.target.value!==n.opts.minValue){var t=e.target.value,o=n.block.props.axis.y;""===t?(n.opts.minValue="",o.range[0]=null):n.block.props.axis&&o.range[1]?Number(t)<Number(n.opts.maxValue)&&(o.range[0]=Number(t),n.opts.minValue=t):(o.range[0]=Number(t),n.opts.minValue=t),n.opts.chartInstance.setOption(n.block)}})}}},{key:"inityAxisMaxRange",value:function(){var e=document.getElementById("yAxisMaxRange");if(e){var t=this.block.props.axis.y.range[1];e.value=t||null}}},{key:"bindyAxisMaxRangeHandle",value:function(){var e=document.getElementById("yAxisMaxRange");if(e){var n=this;e.addEventListener("blur",function(e){if(e.target.value!==n.opts.maxValue){var t=e.target.value,o=n.block.props.axis.y;""===t?(n.opts.maxValue="",o.range[1]=null):Number(t)>Number(n.opts.minValue)&&(o.range[1]=Number(t),n.opts.maxValue=t),n.opts.chartInstance.setOption(n.block)}})}}},{key:"bindGridAndAxisResetHandle",value:function(){var e=this,t=document.getElementById("gridAndAxisReset");t&&t.addEventListener("click",function(){setTimeout(function(){e.bindResetHandle("gridAndAxis")},0)})}},{key:"createFontSetting",value:function(){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">文字</div>\n      <div class="setting-content">\n\n        <div class="color-picker-box">\n          <input type="text" id="fontSizeColorPicker">\n          <div class="color-picker-left">文字颜色</div>\n        </div>\n\n        <div class="small-title color-picker-margin">字体</div>\n        <div id="fontSizeDropdown" class="dropdown-menu"></div>\n\n        <div class="small-title">字号(px)</div>\n        <div id="fontSizeInputRangeBox" class="title-margin">\n          '+this.createInputRange(this.block.props.font.fontSize)+'\n        </div>\n\n        <div id="fontSizeReset" class="reset-btn">恢复默认设置</div>\n\n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.bindFontSizeSelectedHandle(),this.initFontSizeSelected(),this.bindFontSizeInputRangeHandle(),this.bindFontSizeColorPickerHandle(),this.bindFontSizeResetHandle()}},{key:"initFontSizeColorPicker",value:function(){$("#fontSizeColorPicker").spectrum("set",this.block.props.font.color)}},{key:"bindFontSizeColorPickerHandle",value:function(){var o=this;$("#fontSizeColorPicker").spectrum({preferredFormat:"hex",showInput:!0,showPalette:!0,showButtons:!1,hideAfterPaletteSelect:!0,showSelectionPalette:!1,containerClassName:"sdk-color-picker",color:o.block.props.font.color,palette:o.opts.chartColorList,change:function(e){o.block.props.font.color=e.toHexString(),o.opts.chartInstance.setOption(o.block)}}),$("#fontSizeColorPicker").on("dragstop.spectrum",function(e,t){o.block.props.font.color=t.toHexString(),o.opts.chartInstance.setOption(o.block)}),$("#fontSizeColorPicker").spectrum("container").find(".sp-input").change(function(e){/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(e.target.value)&&(o.block.props.font.color=e.target.value,o.opts.chartInstance.setOption(o.block))})}},{key:"initFontSizeSelected",value:function(){var e=this.opts.fontFamilyListText.indexOf(this.block.props.font.fontFamily);e=-1<e?e:0,$("#fontSizeDropdown").dropdown({list:this.deepClone(this.opts.fontFamilyListText),index:e,updateIndex:!0})}},{key:"bindFontSizeSelectedHandle",value:function(){var t=this;$("#fontSizeDropdown").dropdown({list:t.deepClone(this.opts.fontFamilyListText),callback:function(e){t.block.props.font.fontFamily=t.opts.fontFamilyListText[e],t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"initFontSizeInputRang",value:function(){var e=document.querySelector("#fontSizeInputRangeBox .input-range");$(e).RangeSlider({setValue:this.block.props.font.fontSize})}},{key:"bindFontSizeInputRangeHandle",value:function(){var e=document.querySelector("#fontSizeInputRangeBox .input-range");if(e){var t=this;$(e).RangeSlider({min:0,max:100,step:1,callback:function(){t.block.props.font.fontSize=e.value,t.opts.chartInstance.setOption(t.block)}})}}},{key:"bindFontSizeResetHandle",value:function(){var e=this,t=document.getElementById("fontSizeReset");t&&t.addEventListener("click",function(){e.bindResetHandle("fontSize")})}},{key:"createLegendSetting",value:function(){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">图例</div>\n      <div class="setting-content">\n        \n        <div class="small-title">图例显示</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="legendSwitch">\n\n        <div class="small-title">图例位置</div>\n        <div id="legendDropdown" class="dropdown-menu"></div>\n\n        <div id="legendReset" class="reset-btn">恢复默认设置</div>\n\n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.initLegendSwitch(),this.bindLegendSwitchHandle(),this.bindLegendPositionSelectedHandle(),this.initLegendPositionSelected(),this.bindLegendResetHandle()}},{key:"initLegendSwitch",value:function(){var e=document.getElementById("legendSwitch");this.block.props.legend.show?e.checked=!0:e.checked=!1}},{key:"bindLegendSwitchHandle",value:function(){var e=document.getElementById("legendSwitch"),t=this;e.addEventListener("change",function(e){t.block.props.legend.show=!!this.checked,t.opts.chartInstance.setOption(t.block)})}},{key:"initLegendPositionSelected",value:function(){var e=0;switch(this.block.props.legend.yPosition){case"top":switch(this.block.props.legend.xPosition){case"left":e=0;break;case"center":e=1;break;case"right":e=2}break;case"bottom":switch(this.block.props.legend.xPosition){case"left":e=3;break;case"center":e=4;break;case"right":e=5}}$("#legendDropdown").dropdown({list:this.deepClone(this.opts.positionList),index:e,updateIndex:!0})}},{key:"bindLegendPositionSelectedHandle",value:function(){var t=this;$("#legendDropdown").dropdown({list:t.deepClone(this.opts.positionList),callback:function(e){switch(e){case 0:t.block.props.legend.xPosition="left",t.block.props.legend.yPosition="top";break;case 1:t.block.props.legend.xPosition="center",t.block.props.legend.yPosition="top";break;case 2:t.block.props.legend.xPosition="right",t.block.props.legend.yPosition="top";break;case 3:t.block.props.legend.xPosition="left",t.block.props.legend.yPosition="bottom";break;case 4:t.block.props.legend.xPosition="center",t.block.props.legend.yPosition="bottom";break;case 5:t.block.props.legend.xPosition="right",t.block.props.legend.yPosition="bottom"}t.opts.chartInstance.setOption(t.block)},bindClick:!0})}},{key:"bindLegendResetHandle",value:function(){var e=this,t=document.getElementById("legendReset");t&&t.addEventListener("click",function(){e.bindResetHandle("legend")})}},{key:"createTooltipSetting",value:function(){if("4447460703254610031"!==this.block.templateId){var e=document.createElement("div");e.className="setting-group",e.innerHTML='\n      <div class="setting-title">交互提示框</div>\n      <div class="setting-content">\n        \n        <div class="small-title">交互提示框显示</div>\n        <input class="switch switch-anim title-margin" type="checkbox" id="tooltipSwitch">\n\n      </div>\n    ',document.getElementById("setting-box").appendChild(e),this.bindTooltipSwitchHandle()}}},{key:"bindTooltipSwitchHandle",value:function(){var e=document.getElementById("tooltipSwitch");if(e){var t=this;this.block.props.tooltip?e.setAttribute("checked","checked"):e.removeAttribute("checked"),e.addEventListener("change",function(e){t.block.props.tooltip=!!this.checked,t.opts.chartInstance.setOption(t.block)})}}},{key:"createEditorBox",value:function(){var e=document.createElement("div");e.id="editor";var t=document.getElementById("editor-box");t.insertBefore(e,t.childNodes[0])}},{key:"createInputRange",value:function(e){return'\n      <div class="input-container-box">\n        <input type="range" value="'+e+'" style="background-size: '+e+'% 100%;" class="input-range">\n        <div class="input-container">\n          <input type="text" value="'+e+'" min="0" max="100" class="input-text" onafterpaste="if(isNaN(value))execCommand(\'undo\')" onkeyup="if(isNaN(value))execCommand(\'undo\')">\n          <div class="num-box">\n            <div class="num-btn add">\n              <div class="text">+</div>\n            </div>\n            <div class="num-btn desc">\n              <div class="text">-</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}},{key:"bindResetHandle",value:function(e){switch(e){case"theme":this.opts.chartJSON.theme=s[0].theme,this.block.theme=s[0].theme,this.renderBackgroundColor(this.block.theme.backgroundColor),$("#pageColorPicker").spectrum("set",this.block.theme.backgroundColor),this.opts.chartColorList=s[0].theme.colors,this.replaceCurrentBlock(),this.initThemeDropdown(),this.updateAllProject(),this.opts.chartInstance.setOption(this.block);break;case"label":this.block.props.label=this.deepClone(this.opts.chartJSON.props.label),this.initLabelSwitch(),this.initLabelCheckedbox(),this.initLabelBarSwitch(),this.initLabelBarSelected(),this.initLabelLineSwitch(),this.initLabelLineSelected(),this.initLabelText(),this.initLabelTextSwitch(),this.initLabelNumber(),this.initLabelNumberSwitch(),this.opts.chartInstance.setOption(this.block);break;case"title":this.block.props.titleDisplay=this.deepClone(this.opts.chartJSON.props.titleDisplay),this.initTitleSwitch(),this.initTitleInput(),this.initTitleColorPicker(),this.initTitleFontFamilySelected(),this.initTitleInputRange(),this.initTitlePositionSelected(),this.opts.chartInstance.setOption(this.block);break;case"fontSize":this.block.props.font=this.deepClone(this.opts.chartJSON.props.font),this.initFontSizeColorPicker(),this.initFontSizeSelected(),this.initFontSizeInputRang(),this.opts.chartInstance.setOption(this.block);break;case"color":this.block.props.colors=this.deepClone(this.opts.chartJSON.props.colors),this.opts.chartInstance.setOption(this.block),this.uploadColorSetting();break;case"legend":this.block.props.legend=this.deepClone(this.opts.chartJSON.props.legend),this.opts.chartInstance.setOption(this.block),this.initLegendSwitch(),this.initLegendPositionSelected();break;case"gridAndAxis":this.block.props.axis=this.deepClone(this.opts.chartJSON.props.axis),this.opts.chartInstance.setOption(this.block),this.initGridSelected(),this.initGridColorPicker(),this.initxAxisInput(),this.inityAxisInput(),this.initAxisSelected(),this.initAxisColorPicker(),this.block.props.axis.y.range&&(this.inityAxisMinRange(),this.inityAxisMaxRange())}}},{key:"getLocalFontFamilyList",value:function(){if(document.styleSheets[0]||document.styleSheets[0]){for(var e=document.styleSheets[0].rules||document.styleSheets[0].cssRules,t=[],o=0;o<e.length;o++)'"Noto Sans"'===e[o].style.fontFamily?t.push("Noto Sans"):'"Droid Sans Fallback"'===e[o].style.fontFamily?t.push("Droid Sans Fallback"):t.push(e[o].style.fontFamily);this.opts.fontFamilyListText=[].concat(u(new Set(t)))}else this.opts.fontFamilyListText=[]}},{key:"renderChart",value:function(){"114473474859453649"===this.block.templateId?(this.opts.chartInstance=echarts.init(document.getElementById("editor")),this.opts.chartInstance.setOption(this.echartsWordCloudOptions,!0)):(this.opts.chartInstance=this.getCurrentD3ChartType(),this.opts.chartInstance.setOption(this.block))}},{key:"renderBackgroundColor",value:function(e){document.getElementById("editor").style.backgroundColor=e}},{key:"setThemeListHexColor",value:function(e){return"number"==typeof e?this.block.theme.colors[e]:e}},{key:"getCurrentD3ChartType",value:function(){var e=document.getElementById("editor"),t="";switch(this.block.title){case"基础饼图":t=new window.d3Chart.PieChart(e);break;case"变形饼图":t=new window.d3Chart.DeformedPieChart(e);break;case"基础环形图":t=new window.d3Chart.DonutChart(e);break;case"多条折线图":t=new window.d3Chart.BeeLineChart(e);break;case"多条阶梯折线图":t=new window.d3Chart.StepLineChart(e);break;case"堆叠面积图":t=new window.d3Chart.StackedLinearChart(e);break;case"基础柱状图":t=new window.d3Chart.SimpleBarChart(e);break;case"分组柱状图":t=new window.d3Chart.GroupedBarChart(e);break;case"堆叠柱状图":t=new window.d3Chart.StackBarChart(e);break;case"分组气泡图":t=new window.d3Chart.GroupingBubbleChart(e);break;case"多维雷达图":t=new window.d3Chart.RadarChart(e);break;case"漏斗图":t=new window.d3Chart.FunnelChart(e);break;case"半圆环进度图":t=new window.d3Chart.HalfProgressPieChart(e);break;case"水波图":t=new window.d3Chart.WaveCircleChart(e);break;case"玉玦图":t=new window.d3Chart.RadialBarChart(e);break;case"玫瑰图":t=new window.d3Chart.RoseChart(e);break;case"桑基图":t=new window.d3Chart.SankeyChart(e);break;case"矩形树图（单层）":t=new window.d3Chart.OneLevelTreemapChart(e);break;case"折柱混合":t=new window.d3Chart.MixLineBarChart(e)}return t}},{key:"filterProjectFonts",value:function(){var e=[];this.block.props.font&&e.push(this.block.props.font.fontFamily),this.block.props.titleDisplay&&e.push(this.block.props.titleDisplay.fontFamily),this.block.props.label&&this.block.props.label.textLabel&&e.push(this.block.props.label.textLabel.fontFamily),this.block.props.label&&this.block.props.label.numberLabel&&e.push(this.block.props.label.numberLabel.fontFamily);var t=e.map(function(e){return"noto"===e||"Noto Sans"===e?'"Noto Sans"':"Droid Sans Fallback"===e?'"Droid Sans Fallback"':e});document.body.setAttribute("data-json",Array.from(new Set(t)))}},{key:"bindInputBlurHandle",value:function(){for(var e=document.querySelectorAll(".input-text"),t=0;t<e.length;t++)e[t].addEventListener("keyup",function(e){13===e.keyCode&&this.blur()},!1)}},{key:"formatColor",value:function(e,t){var o=[].concat(u(e)),n=[].concat(u(t));try{for(var i=0;i<o.length;i++)isNaN(o[i])||(o[i]=n[o[i]]);return o}catch(e){console.log(e)}}},{key:"formatDataSrc",value:function(){var e=this.deepClone(this.block.dataSrc.data[0]),t=this.deepClone(this.block.props.map[0]);"linear"===this.block.props.colors.type&&"5944734748594536331"===this.block.templateId&&(this.block.props.colors.type="multiple");var o=this.block.props.colors.type;if("single"===o){for(var n=void 0,i=0;i<t.length;i++)"vCol"===t[i].function&&(n=t[i].index);return[e[0][n]]}if("multiple"===o)switch(this.block.templateSwitch){case"cross":return(("5544734748594536491"===this.block.templateId?this.zip(e):e[0].filter(function(e){return null!==e&&0!==Object.keys(e).length}))||[]).slice(1);case"key-value":var a=this.zip(e).filter(function(e){return null!==e&&0!==Object.keys(e).length});return(a=a||[]).slice(1);case"obj-n-value":var l=Array.from(new Set(this.zip(e))).filter(function(e){return null!==e&&0!==Object.keys(e).length});return(l=l||[]).slice(1);case"sankey":var r=[],s=[],c=[];t.forEach(function(e,t){e.isLegend&&r.push(t)}),e.forEach(function(e,t){0<Number(t)&&(s.push(e[r[0]]),c.push(e[r[1]]))});var d=s.map(function(e,t){return[e,c[t]]}),p=[];return d.map(function(e){p.push.apply(p,u(e))}),Array.from(new Set(p));default:return[]}}},{key:"deepClone",value:function(e){if("object"!==(void 0===e?"undefined":n(e))&&"function"!=typeof e)return e;var t=Array.isArray(e)?[]:{};for(var o in e)e.hasOwnProperty(o)&&(t[o]="object"===n(e[o])?this.deepClone(e[o]):e[o]);return t}},{key:"zip",value:function(e){if(Array.isArray(e)){for(var t=[],o=0;o<e.length;o++)t.push(e[o][0]);return t}}},{key:"remove",value:function(e){var t=document.querySelector(e);t&&t.parentNode.removeChild(t)}},{key:"formatDropdownColorList",value:function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].theme.name+" "+this.getThemeColorZone(e[o].theme.colors));return t}},{key:"getThemeColorZone",value:function(e){for(var t="",o=0;o<6;o++)t+='<div class="theme-color-zone" style="background:'+e[o]+'"></div>';return t}}]),l}();window.Editor=o});
